{
  "version": 3,
  "sources": ["../../node_modules/lz-string/libs/lz-string.js", "../../src/livecodes/html/index.ts", "../../src/livecodes/services/modules.ts", "../../src/livecodes/vendors.ts", "../../src/livecodes/services/allowed-origin.ts", "../../src/livecodes/utils/utils.ts", "../../src/livecodes/storage/storage.ts", "../../src/livecodes/utils/compression.ts", "../../src/livecodes/services/share.ts", "../../src/livecodes/export/utils.ts", "../../src/livecodes/services/github.ts", "../../src/livecodes/config/default-config.ts", "../../src/livecodes/deploy/deploy.ts", "../../src/livecodes/UI/selectors.ts", "../../src/livecodes/UI/deploy.ts"],
  "sourcesContent": ["// Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>\n// This work is free. You can redistribute it and/or modify it\n// under the terms of the WTFPL, Version 2\n// For more information see LICENSE.txt or http://www.wtfpl.net/\n//\n// For more information, the home page:\n// http://pieroxy.net/blog/pages/lz-string/testing.html\n//\n// LZ-based compression algorithm, version 1.4.4\nvar LZString = (function() {\n\n// private property\nvar f = String.fromCharCode;\nvar keyStrBase64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nvar keyStrUriSafe = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\nvar baseReverseDic = {};\n\nfunction getBaseValue(alphabet, character) {\n  if (!baseReverseDic[alphabet]) {\n    baseReverseDic[alphabet] = {};\n    for (var i=0 ; i<alphabet.length ; i++) {\n      baseReverseDic[alphabet][alphabet.charAt(i)] = i;\n    }\n  }\n  return baseReverseDic[alphabet][character];\n}\n\nvar LZString = {\n  compressToBase64 : function (input) {\n    if (input == null) return \"\";\n    var res = LZString._compress(input, 6, function(a){return keyStrBase64.charAt(a);});\n    switch (res.length % 4) { // To produce valid Base64\n    default: // When could this happen ?\n    case 0 : return res;\n    case 1 : return res+\"===\";\n    case 2 : return res+\"==\";\n    case 3 : return res+\"=\";\n    }\n  },\n\n  decompressFromBase64 : function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrBase64, input.charAt(index)); });\n  },\n\n  compressToUTF16 : function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 15, function(a){return f(a+32);}) + \" \";\n  },\n\n  decompressFromUTF16: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 16384, function(index) { return compressed.charCodeAt(index) - 32; });\n  },\n\n  //compress into uint8array (UCS-2 big endian format)\n  compressToUint8Array: function (uncompressed) {\n    var compressed = LZString.compress(uncompressed);\n    var buf=new Uint8Array(compressed.length*2); // 2 bytes per character\n\n    for (var i=0, TotalLen=compressed.length; i<TotalLen; i++) {\n      var current_value = compressed.charCodeAt(i);\n      buf[i*2] = current_value >>> 8;\n      buf[i*2+1] = current_value % 256;\n    }\n    return buf;\n  },\n\n  //decompress from uint8array (UCS-2 big endian format)\n  decompressFromUint8Array:function (compressed) {\n    if (compressed===null || compressed===undefined){\n        return LZString.decompress(compressed);\n    } else {\n        var buf=new Array(compressed.length/2); // 2 bytes per character\n        for (var i=0, TotalLen=buf.length; i<TotalLen; i++) {\n          buf[i]=compressed[i*2]*256+compressed[i*2+1];\n        }\n\n        var result = [];\n        buf.forEach(function (c) {\n          result.push(f(c));\n        });\n        return LZString.decompress(result.join(''));\n\n    }\n\n  },\n\n\n  //compress into a string that is already URI encoded\n  compressToEncodedURIComponent: function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 6, function(a){return keyStrUriSafe.charAt(a);});\n  },\n\n  //decompress from an output of compressToEncodedURIComponent\n  decompressFromEncodedURIComponent:function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    input = input.replace(/ /g, \"+\");\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrUriSafe, input.charAt(index)); });\n  },\n\n  compress: function (uncompressed) {\n    return LZString._compress(uncompressed, 16, function(a){return f(a);});\n  },\n  _compress: function (uncompressed, bitsPerChar, getCharFromInt) {\n    if (uncompressed == null) return \"\";\n    var i, value,\n        context_dictionary= {},\n        context_dictionaryToCreate= {},\n        context_c=\"\",\n        context_wc=\"\",\n        context_w=\"\",\n        context_enlargeIn= 2, // Compensate for the first entry which should not count\n        context_dictSize= 3,\n        context_numBits= 2,\n        context_data=[],\n        context_data_val=0,\n        context_data_position=0,\n        ii;\n\n    for (ii = 0; ii < uncompressed.length; ii += 1) {\n      context_c = uncompressed.charAt(ii);\n      if (!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)) {\n        context_dictionary[context_c] = context_dictSize++;\n        context_dictionaryToCreate[context_c] = true;\n      }\n\n      context_wc = context_w + context_c;\n      if (Object.prototype.hasOwnProperty.call(context_dictionary,context_wc)) {\n        context_w = context_wc;\n      } else {\n        if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n          if (context_w.charCodeAt(0)<256) {\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<8 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          } else {\n            value = 1;\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1) | value;\n              if (context_data_position ==bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = 0;\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<16 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          }\n          context_enlargeIn--;\n          if (context_enlargeIn == 0) {\n            context_enlargeIn = Math.pow(2, context_numBits);\n            context_numBits++;\n          }\n          delete context_dictionaryToCreate[context_w];\n        } else {\n          value = context_dictionary[context_w];\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n\n\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        // Add wc to the dictionary.\n        context_dictionary[context_wc] = context_dictSize++;\n        context_w = String(context_c);\n      }\n    }\n\n    // Output the code for w.\n    if (context_w !== \"\") {\n      if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n        if (context_w.charCodeAt(0)<256) {\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<8 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        } else {\n          value = 1;\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | value;\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = 0;\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<16 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        delete context_dictionaryToCreate[context_w];\n      } else {\n        value = context_dictionary[context_w];\n        for (i=0 ; i<context_numBits ; i++) {\n          context_data_val = (context_data_val << 1) | (value&1);\n          if (context_data_position == bitsPerChar-1) {\n            context_data_position = 0;\n            context_data.push(getCharFromInt(context_data_val));\n            context_data_val = 0;\n          } else {\n            context_data_position++;\n          }\n          value = value >> 1;\n        }\n\n\n      }\n      context_enlargeIn--;\n      if (context_enlargeIn == 0) {\n        context_enlargeIn = Math.pow(2, context_numBits);\n        context_numBits++;\n      }\n    }\n\n    // Mark the end of the stream\n    value = 2;\n    for (i=0 ; i<context_numBits ; i++) {\n      context_data_val = (context_data_val << 1) | (value&1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data_position = 0;\n        context_data.push(getCharFromInt(context_data_val));\n        context_data_val = 0;\n      } else {\n        context_data_position++;\n      }\n      value = value >> 1;\n    }\n\n    // Flush the last char\n    while (true) {\n      context_data_val = (context_data_val << 1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data.push(getCharFromInt(context_data_val));\n        break;\n      }\n      else context_data_position++;\n    }\n    return context_data.join('');\n  },\n\n  decompress: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 32768, function(index) { return compressed.charCodeAt(index); });\n  },\n\n  _decompress: function (length, resetValue, getNextValue) {\n    var dictionary = [],\n        next,\n        enlargeIn = 4,\n        dictSize = 4,\n        numBits = 3,\n        entry = \"\",\n        result = [],\n        i,\n        w,\n        bits, resb, maxpower, power,\n        c,\n        data = {val:getNextValue(0), position:resetValue, index:1};\n\n    for (i = 0; i < 3; i += 1) {\n      dictionary[i] = i;\n    }\n\n    bits = 0;\n    maxpower = Math.pow(2,2);\n    power=1;\n    while (power!=maxpower) {\n      resb = data.val & data.position;\n      data.position >>= 1;\n      if (data.position == 0) {\n        data.position = resetValue;\n        data.val = getNextValue(data.index++);\n      }\n      bits |= (resb>0 ? 1 : 0) * power;\n      power <<= 1;\n    }\n\n    switch (next = bits) {\n      case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 2:\n        return \"\";\n    }\n    dictionary[3] = c;\n    w = c;\n    result.push(c);\n    while (true) {\n      if (data.index > length) {\n        return \"\";\n      }\n\n      bits = 0;\n      maxpower = Math.pow(2,numBits);\n      power=1;\n      while (power!=maxpower) {\n        resb = data.val & data.position;\n        data.position >>= 1;\n        if (data.position == 0) {\n          data.position = resetValue;\n          data.val = getNextValue(data.index++);\n        }\n        bits |= (resb>0 ? 1 : 0) * power;\n        power <<= 1;\n      }\n\n      switch (c = bits) {\n        case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 2:\n          return result.join('');\n      }\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n      if (dictionary[c]) {\n        entry = dictionary[c];\n      } else {\n        if (c === dictSize) {\n          entry = w + w.charAt(0);\n        } else {\n          return null;\n        }\n      }\n      result.push(entry);\n\n      // Add w+entry[0] to the dictionary.\n      dictionary[dictSize++] = w + entry.charAt(0);\n      enlargeIn--;\n\n      w = entry;\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n    }\n  }\n};\n  return LZString;\n})();\n\nif (typeof define === 'function' && define.amd) {\n  define(function () { return LZString; });\n} else if( typeof module !== 'undefined' && module != null ) {\n  module.exports = LZString\n}\n", "// @ts-ignore\r\n// eslint-disable-next-line import/no-internal-modules\r\nimport resultTemplateRaw from './sandbox/v6/result.html';\r\n// @ts-ignore\r\nimport appHTMLRaw from './app.html';\r\n// @ts-ignore\r\nimport settingsMenuHTMLRaw from './settings-menu.html';\r\n// @ts-ignore\r\nimport languageInfoRaw from './language-info.html';\r\n// @ts-ignore\r\nimport customSettingsScreenRaw from './custom-settings.html';\r\n// @ts-ignore\r\nimport testEditorScreenRaw from './test-editor.html';\r\n// @ts-ignore\r\nimport importScreenRaw from './import.html';\r\n// @ts-ignore\r\nimport deployScreenRaw from './deploy.html';\r\n// @ts-ignore\r\nimport syncScreenRaw from './sync.html';\r\n// @ts-ignore\r\nimport backupScreenRaw from './backup.html';\r\n// @ts-ignore\r\nimport broadcastScreenRaw from './broadcast.html';\r\n// @ts-ignore\r\nimport welcomeScreenRaw from './welcome.html';\r\n// @ts-ignore\r\nimport aboutScreenRaw from './about.html';\r\n// @ts-ignore\r\nimport infoScreenRaw from './project-info.html';\r\n// @ts-ignore\r\nimport resourcesScreenRaw from './external-resources.html';\r\n// @ts-ignore\r\nimport loginScreenRaw from './login.html';\r\n// @ts-ignore\r\nimport savePromptScreenRaw from './save-prompt.html';\r\n// @ts-ignore\r\nimport recoverPromptScreenRaw from './recover-prompt.html';\r\n// @ts-ignore\r\nimport templatesScreenRaw from './templates.html';\r\n// @ts-ignore\r\nimport openScreenRaw from './open.html';\r\n// @ts-ignore\r\nimport assetsScreenRaw from './assets.html';\r\n// @ts-ignore\r\nimport addAssetScreenRaw from './add-asset.html';\r\n// @ts-ignore\r\nimport snippetsScreenRaw from './snippets.html';\r\n// @ts-ignore\r\nimport addSnippetScreenRaw from './add-snippet.html';\r\n// @ts-ignore\r\nimport shareScreenRaw from './share.html';\r\n// @ts-ignore\r\nimport embedScreenRaw from './embed.html';\r\n// @ts-ignore\r\nimport editorSettingsScreenRaw from './editor-settings.html';\r\n// @ts-ignore\r\nimport resultPopupHTMLRaw from './result-popup.html';\r\n\r\nconst replaceValues = (str: string) =>\r\n  str\r\n    .replace(/{{APP_VERSION}}/g, process.env.VERSION || '')\r\n    .replace(/{{SDK_VERSION}}/g, process.env.SDK_VERSION || '')\r\n    .replace(/{{COMMIT_SHA}}/g, process.env.GIT_COMMIT || '')\r\n    .replace(/{{REPO_URL}}/g, process.env.REPO_URL || '')\r\n    .replace(/{{DOCS_BASE_URL}}/g, process.env.DOCS_BASE_URL || '');\r\n\r\nconst resultTemplate = replaceValues(resultTemplateRaw);\r\nconst appHTML = replaceValues(appHTMLRaw);\r\nconst settingsMenuHTML = replaceValues(settingsMenuHTMLRaw);\r\nconst languageInfo = replaceValues(languageInfoRaw);\r\nconst customSettingsScreen = replaceValues(customSettingsScreenRaw);\r\nconst testEditorScreen = replaceValues(testEditorScreenRaw);\r\nconst importScreen = replaceValues(importScreenRaw);\r\nconst deployScreen = replaceValues(deployScreenRaw);\r\nconst syncScreen = replaceValues(syncScreenRaw);\r\nconst backupScreen = replaceValues(backupScreenRaw);\r\nconst broadcastScreen = replaceValues(broadcastScreenRaw);\r\nconst welcomeScreen = replaceValues(welcomeScreenRaw);\r\nconst aboutScreen = replaceValues(aboutScreenRaw);\r\nconst infoScreen = replaceValues(infoScreenRaw);\r\nconst resourcesScreen = replaceValues(resourcesScreenRaw);\r\nconst loginScreen = replaceValues(loginScreenRaw);\r\nconst savePromptScreen = replaceValues(savePromptScreenRaw);\r\nconst recoverPromptScreen = replaceValues(recoverPromptScreenRaw);\r\nconst templatesScreen = replaceValues(templatesScreenRaw);\r\nconst openScreen = replaceValues(openScreenRaw);\r\nconst assetsScreen = replaceValues(assetsScreenRaw);\r\nconst addAssetScreen = replaceValues(addAssetScreenRaw);\r\nconst snippetsScreen = replaceValues(snippetsScreenRaw);\r\nconst addSnippetScreen = replaceValues(addSnippetScreenRaw);\r\nconst shareScreen = replaceValues(shareScreenRaw);\r\nconst embedScreen = replaceValues(embedScreenRaw);\r\nconst editorSettingsScreen = replaceValues(editorSettingsScreenRaw);\r\nconst resultPopupHTML = replaceValues(resultPopupHTMLRaw);\r\n\r\nexport {\r\n  resultTemplate,\r\n  appHTML,\r\n  settingsMenuHTML,\r\n  languageInfo,\r\n  customSettingsScreen,\r\n  testEditorScreen,\r\n  importScreen,\r\n  deployScreen,\r\n  syncScreen,\r\n  backupScreen,\r\n  broadcastScreen,\r\n  welcomeScreen,\r\n  aboutScreen,\r\n  infoScreen,\r\n  resourcesScreen,\r\n  loginScreen,\r\n  savePromptScreen,\r\n  recoverPromptScreen,\r\n  templatesScreen,\r\n  openScreen,\r\n  assetsScreen,\r\n  addAssetScreen,\r\n  snippetsScreen,\r\n  addSnippetScreen,\r\n  shareScreen,\r\n  embedScreen,\r\n  editorSettingsScreen,\r\n  resultPopupHTML,\r\n};\r\n", "import type { CDN } from '../models';\r\n\r\ndeclare const globalThis: { appCDN: CDN };\r\n\r\nconst moduleCDNs: CDN[] = ['jspm', 'skypack'];\r\nconst npmCDNs: CDN[] = ['unpkg', 'jsdelivr'];\r\nconst ghCDNs: CDN[] = ['jsdelivr.gh', 'statically'];\r\n\r\nexport const modulesService = {\r\n  getModuleUrl: (\r\n    moduleName: string,\r\n    { isModule = true, defaultCDN = 'jspm' }: { isModule?: boolean; defaultCDN?: CDN } = {},\r\n  ) => {\r\n    moduleName = moduleName.replace(/#nobundle/g, '');\r\n\r\n    const moduleUrl = getCdnUrl(moduleName, isModule, defaultCDN);\r\n    if (moduleUrl) {\r\n      return moduleUrl;\r\n    }\r\n\r\n    return isModule\r\n      ? 'https://jspm.dev/' + moduleName\r\n      : 'https://cdn.jsdelivr.net/npm/' + moduleName;\r\n  },\r\n\r\n  getUrl: (path: string, cdn?: CDN) =>\r\n    path.startsWith('http') ? path : getCdnUrl(path, false, cdn || getAppCDN()) || path,\r\n\r\n  cdnLists: { npm: npmCDNs, module: moduleCDNs, gh: ghCDNs },\r\n\r\n  checkCDNs: async (testModule: string, preferredCDN?: CDN) => {\r\n    const cdns: CDN[] = [preferredCDN, ...modulesService.cdnLists.npm].filter(Boolean) as CDN[];\r\n    for (const cdn of cdns) {\r\n      try {\r\n        const res = await fetch(modulesService.getUrl(testModule, cdn), {\r\n          method: 'HEAD',\r\n        });\r\n        if (res.ok) return cdn;\r\n      } catch {\r\n        // continue;\r\n      }\r\n    }\r\n    // fall back to first\r\n    return modulesService.cdnLists.npm[0];\r\n  },\r\n};\r\n\r\nexport const getAppCDN = (): CDN => {\r\n  if (globalThis.appCDN) return globalThis.appCDN;\r\n  try {\r\n    const url = new URL(location.href);\r\n    return (url.searchParams.get('appCDN') as CDN) || modulesService.cdnLists.npm[0];\r\n  } catch {\r\n    return modulesService.cdnLists.npm[0] as CDN;\r\n  }\r\n};\r\n\r\nconst getCdnUrl = (modName: string, isModule: boolean, defaultCDN?: CDN) => {\r\n  const post = isModule && modName.startsWith('unpkg:') ? '?module' : '';\r\n  if (modName.startsWith('gh:')) {\r\n    modName = modName.replace('gh', ghCDNs[0]);\r\n  } else if (!modName.includes(':')) {\r\n    const prefix = defaultCDN || (isModule ? moduleCDNs[0] : npmCDNs[0]);\r\n    modName = prefix + ':' + modName;\r\n  }\r\n  for (const i of TEMPLATES) {\r\n    const [pattern, template] = i;\r\n    if (pattern.test(modName)) {\r\n      return modName.replace(pattern, template) + post;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\n// based on https://github.com/neoascetic/rawgithack/blob/master/web/rawgithack.js\r\nconst TEMPLATES: Array<[RegExp, string]> = [\r\n  [/^(jspm:)(.+)/i, 'https://jspm.dev/$2'],\r\n\r\n  [/^(npm:)(.+)/i, 'https://jspm.dev/$2'],\r\n\r\n  [/^(node:)(.+)/i, 'https://jspm.dev/$2'],\r\n\r\n  [/^(skypack:)(.+)/i, 'https://cdn.skypack.dev/$2'],\r\n\r\n  [/^(jsdelivr:)(.+)/i, 'https://cdn.jsdelivr.net/npm/$2'],\r\n\r\n  [/^(jsdelivr.gh:)(.+)/i, 'https://cdn.jsdelivr.net/gh/$2'],\r\n\r\n  [/^(statically:)(.+)/i, 'https://cdn.statically.io/gh/$2'],\r\n\r\n  [/^(esm.run:)(.+)/i, 'https://esm.run/$2'],\r\n\r\n  [/^(esm.sh:)(.+)/i, 'https://esm.sh/$2'],\r\n\r\n  [/^(esbuild:)(.+)/i, 'https://esbuild.vercel.app/$2'],\r\n\r\n  [/^(bundle.run:)(.+)/i, 'https://bundle.run/$2'],\r\n\r\n  [/^(unpkg:)(.+)/i, 'https://unpkg.com/$2'],\r\n\r\n  [/^(bundlejs:)(.+)/i, 'https://deno.bundlejs.com/?file&q=$2'],\r\n\r\n  [/^(bundle:)(.+)/i, 'https://deno.bundlejs.com/?file&q=$2'],\r\n\r\n  [/^(deno:)(.+)/i, 'https://deno.bundlejs.com/?file&q=https://deno.land/x/$2/mod.ts'],\r\n\r\n  [/^(https:\\/\\/deno\\.land\\/.+)/i, 'https://deno.bundlejs.com/?file&q=$1'],\r\n\r\n  [\r\n    /^(github:|https:\\/\\/github\\.com\\/)(.[^\\/]+?)\\/(.[^\\/]+?)\\/(?!releases\\/)(?:(?:blob|raw)\\/)?(.+?\\/.+)/i,\r\n    'https://deno.bundlejs.com/?file&q=https://cdn.jsdelivr.net/gh/$2/$3@$4',\r\n  ],\r\n\r\n  [/^(gist\\.github:)(.+?\\/[0-9a-f]+\\/raw\\/(?:[0-9a-f]+\\/)?.+)$/i, 'https://gist.githack.com/$2'],\r\n\r\n  [\r\n    /^(gitlab:|https:\\/\\/gitlab\\.com\\/)([^\\/]+.*\\/[^\\/]+)\\/(?:raw|blob)\\/(.+?)(?:\\?.*)?$/i,\r\n    'https://deno.bundlejs.com/?file&q=https://gl.githack.com/$2/raw/$3',\r\n  ],\r\n  [\r\n    /^(bitbucket:|https:\\/\\/bitbucket\\.org\\/)([^\\/]+\\/[^\\/]+)\\/(?:raw|src)\\/(.+?)(?:\\?.*)?$/i,\r\n    'https://deno.bundlejs.com/?file&q=https://bb.githack.com/$2/raw/$3',\r\n  ],\r\n\r\n  // snippet file URL from web interface, with revision\r\n  [\r\n    /^(bitbucket:)snippets\\/([^\\/]+\\/[^\\/]+)\\/revisions\\/([^\\/\\#\\?]+)(?:\\?[^#]*)?(?:\\#file-(.+?))$/i,\r\n    'https://bb.githack.com/!api/2.0/snippets/$2/$3/files/$4',\r\n  ],\r\n  // snippet file URL from web interface, no revision\r\n  [\r\n    /^(bitbucket:)snippets\\/([^\\/]+\\/[^\\/\\#\\?]+)(?:\\?[^#]*)?(?:\\#file-(.+?))$/i,\r\n    'https://bb.githack.com/!api/2.0/snippets/$2/HEAD/files/$3',\r\n  ],\r\n  // snippet file URLs from REST API\r\n  [\r\n    /^(bitbucket:)\\!api\\/2.0\\/snippets\\/([^\\/]+\\/[^\\/]+\\/[^\\/]+)\\/files\\/(.+?)(?:\\?.*)?$/i,\r\n    'https://bb.githack.com/!api/2.0/snippets/$2/files/$3',\r\n  ],\r\n  [\r\n    /^(api\\.bitbucket:)2.0\\/snippets\\/([^\\/]+\\/[^\\/]+\\/[^\\/]+)\\/files\\/(.+?)(?:\\?.*)?$/i,\r\n    'https://bb.githack.com/!api/2.0/snippets/$2/files/$3',\r\n  ],\r\n\r\n  [/^(rawgit:)(.+?\\/[0-9a-f]+\\/raw\\/(?:[0-9a-f]+\\/)?.+)$/i, 'https://gist.githack.com/$2'],\r\n  [\r\n    /^(rawgit:|https:\\/\\/raw\\.githubusercontent\\.com)(\\/[^\\/]+\\/[^\\/]+|[0-9A-Za-z-]+\\/[0-9a-f]+\\/raw)\\/(.+)/i,\r\n    'https://deno.bundlejs.com/?file&q=https://raw.githack.com/$2/$3',\r\n  ],\r\n];\r\n", "// eslint-disable-next-line import/no-internal-modules\r\nimport { modulesService } from './services/modules';\r\n\r\nconst { getUrl, getModuleUrl } = modulesService;\r\n\r\nexport const vendorsBaseUrl = // 'http://127.0.0.1:8081/';\r\n  /* @__PURE__ */ getUrl('@live-codes/browser-compilers@0.7.4/dist/');\r\n\r\nexport const acornUrl = /* @__PURE__ */ getUrl('acorn@8.8.2/dist/acorn.js');\r\n\r\nexport const artTemplateUrl = /* @__PURE__ */ getUrl('art-template@4.13.2/lib/template-web.js');\r\n\r\nexport const asciidocUrl = /* @__PURE__ */ getUrl(\r\n  '@asciidoctor/core@2.2.6/dist/browser/asciidoctor.js',\r\n);\r\n\r\nexport const assemblyscriptLoaderUrl = /* @__PURE__ */ getUrl(\r\n  '@assemblyscript/loader@0.27.5/umd/index.js',\r\n);\r\n\r\nexport const astringUrl = /* @__PURE__ */ getUrl('astring@1.8.1/dist/astring.min.js');\r\n\r\nexport const astroBaseUrl = /* @__PURE__ */ getUrl('@hatemhosny/astro-internal@0.0.4/');\r\n\r\nexport const astroWasmURL = /* @__PURE__ */ getUrl('@astrojs/compiler@0.9.2/astro.wasm');\r\n\r\nexport const autoCompleteUrl = /* @__PURE__ */ getUrl(\r\n  '@tarekraafat/autocomplete.js@10.2.6/dist/autoComplete.js',\r\n);\r\n\r\nexport const babelUrl = /* @__PURE__ */ getUrl('@babel/standalone@7.22.4/babel.js');\r\n\r\nexport const biwaschemeUrl = /* @__PURE__ */ getUrl('biwascheme@0.8.0/release/biwascheme.js');\r\n\r\nexport const blocklyCdnBaseUrl = /* @__PURE__ */ getUrl('blockly@9.3.3/');\r\n\r\nexport const brythonBaseUrl = /* @__PURE__ */ getUrl('brython@3.11.2/');\r\n\r\nexport const chaiUrl = /* @__PURE__ */ getModuleUrl('chai@4.3.6');\r\n\r\nexport const chaiTypesUrl = /* @__PURE__ */ getUrl('@types/chai@4.2.22/index.d.ts');\r\n\r\nexport const cherryCljsBaseUrl = /* @__PURE__ */ getUrl('cherry-cljs@0.0.4/');\r\n\r\nexport const cjs2esUrl = /* @__PURE__ */ getUrl('cjs2es@1.1.1/dist/cjs2es.browser.js');\r\n\r\nexport const clioBaseUrl = /* @__PURE__ */ getUrl(\r\n  '@live-codes/clio-browser-compiler@0.0.3/public/build/',\r\n);\r\n\r\nexport const coffeeScriptUrl = /* @__PURE__ */ getUrl(\r\n  'coffeescript@2.7.0/lib/coffeescript-browser-compiler-legacy/coffeescript.js',\r\n);\r\n\r\nexport const cppWasmBaseUrl = /* @__PURE__ */ getUrl('@chriskoch/cpp-wasm@1.0.2');\r\n\r\nexport const csstreeUrl = /* @__PURE__ */ getUrl('css-tree@1.1.3/dist/csstree.js');\r\n\r\nexport const cytoscapeSvgUrl = /* @__PURE__ */ getUrl('cytoscape-svg@0.4.0/cytoscape-svg.js');\r\n\r\nexport const cytoscapeUrl = /* @__PURE__ */ getUrl('cytoscape@3.25.0/dist/cytoscape.min.js');\r\n\r\nexport const dotUrl = /* @__PURE__ */ getUrl('dot@1.1.3/doT.js');\r\n\r\nexport const ejsUrl = /* @__PURE__ */ getUrl('ejs@3.1.9/ejs.js');\r\n\r\nexport const elkjsBaseUrl = /* @__PURE__ */ getUrl('elkjs@0.8.2/lib/');\r\n\r\nexport const emmetMonacoUrl = /* @__PURE__ */ getUrl('emmet-monaco-es@5.0.0/dist/emmet-monaco.js');\r\n\r\nexport const esModuleShimsPath = 'es-module-shims@1.4.4/dist/es-module-shims.js';\r\n\r\nexport const etaUrl = /* @__PURE__ */ getUrl('eta@2.2.0/dist/eta.umd.js');\r\n\r\nexport const flexSearchUrl = /* @__PURE__ */ getUrl('flexsearch@0.7.21/dist/flexsearch.bundle.js');\r\n\r\nexport const fontAnonymousProUrl = /* @__PURE__ */ getUrl(\r\n  '@fontsource/anonymous-pro@4.5.9/index.css',\r\n);\r\n\r\nexport const fontCascadiaCodeUrl = /* @__PURE__ */ getUrl(\r\n  '@fontsource/cascadia-code@4.2.1/index.css',\r\n);\r\n\r\nexport const fontCodeNewRomanUrl = /* @__PURE__ */ getUrl(\r\n  'https://fonts.cdnfonts.com/css/code-new-roman-2',\r\n);\r\n\r\nexport const fontComicMonoUrl = /* @__PURE__ */ getUrl('comic-mono@0.0.1/index.css');\r\n\r\nexport const fontCourierPrimeUrl = /* @__PURE__ */ getUrl(\r\n  '@fontsource/courier-prime@4.5.9/index.css',\r\n);\r\n\r\nexport const fontDECTerminalModernUrl = /* @__PURE__ */ getUrl(\r\n  'https://fonts.cdnfonts.com/css/dec-terminal-modern',\r\n);\r\n\r\nexport const fontDejaVuMonoUrl = /* @__PURE__ */ getUrl('@fontsource/dejavu-mono@4.5.4/index.css');\r\n\r\nexport const fontFantasqueUrl = /* @__PURE__ */ getUrl(\r\n  '@typopro/web-fantasque-sans-mono@3.7.5/TypoPRO-FantasqueSansMono.css',\r\n);\r\n\r\nexport const fontFiraCodeUrl = /* @__PURE__ */ getUrl('firacode@6.2.0/distr/fira_code.css');\r\n\r\nexport const fontFixedsysUrl = /* @__PURE__ */ getUrl('https://fonts.cdnfonts.com/css/fixedsys-62');\r\n\r\nexport const fontHackUrl = /* @__PURE__ */ getUrl('hack-font@3.3.0/build/web/hack.css');\r\n\r\nexport const fontHermitUrl = /* @__PURE__ */ getUrl('typeface-hermit@0.0.44/index.css');\r\n\r\nexport const fontIBMPlexMonoUrl = /* @__PURE__ */ getUrl(\r\n  'https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&display=swap',\r\n);\r\n\r\nexport const fontInconsolataUrl = /* @__PURE__ */ getUrl(\r\n  'https://fonts.googleapis.com/css2?family=Inconsolata&display=swap',\r\n);\r\n\r\nexport const fontIosevkaUrl = /* @__PURE__ */ getUrl('@fontsource/iosevka@4.5.4/index.css');\r\n\r\nexport const fontJetbrainsMonoUrl = /* @__PURE__ */ getUrl(\r\n  '@fontsource/jetbrains-mono@4.5.11/index.css',\r\n);\r\n\r\nexport const fontMenloUrl = /* @__PURE__ */ getUrl('https://fonts.cdnfonts.com/css/menlo');\r\n\r\nexport const fontMonofurUrl = /* @__PURE__ */ getUrl('https://fonts.cdnfonts.com/css/monofur');\r\n\r\nexport const fontMonoidUrl = /* @__PURE__ */ getUrl('@typopro/web-monoid@3.7.5/TypoPRO-Monoid.css');\r\n\r\nexport const fontNotoUrl = /* @__PURE__ */ getUrl(\r\n  'https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap',\r\n);\r\n\r\nexport const fontNovaMonoUrl = /* @__PURE__ */ getUrl(\r\n  'https://fonts.googleapis.com/css2?family=Nova+Mono&display=swap',\r\n);\r\n\r\nexport const fontOpenDyslexicUrl = /* @__PURE__ */ getUrl(\r\n  '@fontsource/opendyslexic@4.5.4/index.css',\r\n);\r\n\r\nexport const fontProFontWindowsUrl = /* @__PURE__ */ getUrl(\r\n  'https://fonts.cdnfonts.com/css/profontwindows',\r\n);\r\n\r\nexport const fontRobotoMonoUrl = /* @__PURE__ */ getUrl('@fontsource/roboto-mono@4.5.8/index.css');\r\n\r\nexport const fontSFMonoUrl = /* @__PURE__ */ getUrl('https://fonts.cdnfonts.com/css/sf-mono');\r\n\r\nexport const fontSourceCodeProUrl = /* @__PURE__ */ getUrl(\r\n  '@fontsource/source-code-pro@4.5.12/index.css',\r\n);\r\n\r\nexport const fontSpaceMonoUrl = /* @__PURE__ */ getUrl('@fontsource/space-mono@4.5.10/index.css');\r\n\r\nexport const fontSudoVarUrl = /* @__PURE__ */ getUrl('https://fonts.cdnfonts.com/css/sudo-var');\r\n\r\nexport const fontUbuntuMonoUrl = /* @__PURE__ */ getUrl('@fontsource/ubuntu-mono@4.5.11/index.css');\r\n\r\nexport const fontVictorMonoUrl = /* @__PURE__ */ getUrl('victormono@1.5.4/dist/index.css');\r\n\r\nexport const fscreenUrl = /* @__PURE__ */ getUrl('fscreen@1.2.0/dist/fscreen.esm.js');\r\n\r\nexport const githubMarkdownCss = /* @__PURE__ */ getUrl(\r\n  'github-markdown-css@5.1.0/github-markdown.css',\r\n);\r\n\r\nexport const go2jsBaseUrl = /* @__PURE__ */ getUrl('@live-codes/go2js@0.4.0/build/');\r\n\r\nexport const graphreCdnUrl = /* @__PURE__ */ getUrl('graphre@0.1.3/dist/graphre.js');\r\n\r\nexport const handlebarsBaseUrl = /* @__PURE__ */ getUrl('handlebars@4.7.7/dist/');\r\n\r\nexport const highlightjsUrl = /* @__PURE__ */ getModuleUrl('highlight.js@11.5.1');\r\n\r\nexport const hintCssUrl = /* @__PURE__ */ getUrl('hint.css@2.7.0/hint.css');\r\n\r\nexport const hpccJsCdnUrl = /* @__PURE__ */ getUrl('@hpcc-js/wasm@2.13.0/dist/index.js');\r\n\r\nexport const imbaBaseUrl = /* @__PURE__ */ getUrl('imba@2.0.0-alpha.229/dist/');\r\n\r\nexport const jestLiteUrl = /* @__PURE__ */ getUrl('jest-lite@1.0.0-alpha.4/dist/core.js');\r\n\r\nexport const jestTypesUrl = /* @__PURE__ */ getUrl('@types/jest@27.4.1/index.d.ts');\r\n\r\nexport const jsclUrl = /* @__PURE__ */ getUrl(\r\n  'gh:jscl-project/jscl-project.github.io@efd3aecdba496d132ed650b7b5be976fd0ca278f/jscl.js',\r\n);\r\n\r\nexport const jsZipUrl = /* @__PURE__ */ getUrl('jszip@3.10.1/dist/jszip.js');\r\n\r\nexport const juliaWasmBaseUrl = /* @__PURE__ */ getUrl('@chriskoch/julia-wasm@1.0.4');\r\n\r\nexport const liquidJsUrl = /* @__PURE__ */ getUrl('liquidjs@10.8.2/dist/liquid.browser.min.js');\r\n\r\nexport const localforageUrl = /* @__PURE__ */ getUrl('localforage@1.10.0/dist/localforage.js');\r\n\r\nexport const luaUrl = /* @__PURE__ */ getUrl('fengari-web@0.1.4/dist/fengari-web.js');\r\n\r\nexport const lunaObjViewerStylesUrl = /* @__PURE__ */ getUrl(\r\n  'luna-object-viewer@0.2.0/luna-object-viewer.css',\r\n);\r\n\r\nexport const lunaConsoleStylesUrl = /* @__PURE__ */ getUrl('luna-console@0.2.1/luna-console.css');\r\n\r\nexport const malinaVersion = '0.6.64';\r\nexport const malinaUrl = /* @__PURE__ */ getUrl(`malinajs@${malinaVersion}/malina.js`);\r\n\r\nexport const markedUrl = /* @__PURE__ */ getUrl('marked@5.0.4/marked.min.js');\r\n\r\nexport const mermaidCdnUrl = /* @__PURE__ */ getUrl('mermaid@10.2.2/dist/mermaid.esm.mjs');\r\n\r\nexport const mjmlUrl = /* @__PURE__ */ getUrl('mjml-browser@4.14.1/lib/index.js');\r\n\r\nexport const monacoEmacsUrl = /* @__PURE__ */ getUrl('monaco-emacs@0.3.0/dist/monaco-emacs.js');\r\n\r\nexport const monacoVimUrl = /* @__PURE__ */ getUrl('monaco-vim@0.4.0/dist/monaco-vim.js');\r\n\r\nexport const mustacheUrl = /* @__PURE__ */ getUrl('mustache@4.2.0/mustache.js');\r\n\r\nexport const nomnomlCdnUrl = /* @__PURE__ */ getUrl('nomnoml@1.6.1/dist/nomnoml.js');\r\n\r\nexport const normalizeCssUrl = /* @__PURE__ */ getUrl('normalize.css@8.0.1/normalize.css');\r\n\r\nexport const nunjucksBaseUrl = /* @__PURE__ */ getUrl('nunjucks@3.2.4/browser/');\r\n\r\nexport const opalBaseUrl = /* @__PURE__ */ getUrl('https://cdn.opalrb.com/opal/1.7.3/');\r\n\r\nexport const parinferUrl = /* @__PURE__ */ getUrl('parinfer@3.13.1/parinfer.js');\r\n\r\nexport const pintoraUrl = /* @__PURE__ */ getUrl(\r\n  '@pintora/standalone@0.6.2/lib/pintora-standalone.umd.js',\r\n);\r\n\r\nexport const plotlyCdnUrl = /* @__PURE__ */ getUrl('plotly.js@2.23.2/dist/plotly.js');\r\n\r\nexport const postcssImportUrlUrl = /* @__PURE__ */ getUrl(\r\n  '@live-codes/postcss-import-url@0.1.2/dist/postcss-import-url.js',\r\n);\r\n\r\nexport const prettierBaseUrl = /* @__PURE__ */ getUrl('prettier@2.5.1/');\r\n\r\nexport const prettierPhpUrl = /* @__PURE__ */ getUrl('@prettier/plugin-php@0.18.0/standalone.js');\r\n\r\nexport const prismBaseUrl = /* @__PURE__ */ getUrl('prismjs@1.26.0/components/');\r\n\r\nexport const pyodideBaseUrl = /* @__PURE__ */ getUrl(\r\n  'https://cdn.jsdelivr.net/pyodide/v0.23.2/full/',\r\n);\r\n\r\nexport const qrcodeUrl = /* @__PURE__ */ getUrl('qrcode-generator@1.4.4/qrcode.js');\r\n\r\nexport const quillEditorCdnBaseUrl = /* @__PURE__ */ getUrl('quill@2.0.0-dev.4/dist/');\r\n\r\nexport const quillHtmlEditUrl = /* @__PURE__ */ getUrl(\r\n  'quill-html-edit-button@2.2.7/dist/quill.htmlEditButton.min.js',\r\n);\r\n\r\nexport const quillBlotFormaterUrl = /* @__PURE__ */ getUrl(\r\n  'quill-blot-formatter@1.0.5/dist/quill-blot-formatter.min.js',\r\n);\r\n\r\nexport const quillBetterTableBaseUrl = /* @__PURE__ */ getUrl('quill-better-table@1.2.10/dist/');\r\n\r\nexport const requireUrl = /* @__PURE__ */ getUrl('requirejs@2.3.6/require.js');\r\n\r\nexport const reasonCompilerUrl = /* @__PURE__ */ getUrl(\r\n  'https://cdn.rescript-lang.org/v9.1.2/compiler.js',\r\n);\r\n\r\nexport const reasonReactUrl = /* @__PURE__ */ getUrl(\r\n  'https://cdn.rescript-lang.org/v9.1.2/%40rescript/react/cmij.js',\r\n);\r\n\r\nexport const reasonStdLibBaseUrl = /* @__PURE__ */ getUrl('@rescript/std@9.1.3/lib/es6/');\r\n\r\nexport const rescriptCompilerUrl = /* @__PURE__ */ getUrl(\r\n  'https://cdn.rescript-lang.org/v10.1.2/compiler.js',\r\n);\r\n\r\nexport const rescriptReactUrl = /* @__PURE__ */ getUrl(\r\n  'https://cdn.rescript-lang.org/v10.1.2/%40rescript/react/cmij.js',\r\n);\r\n\r\nexport const rescriptStdLibBaseUrl = /* @__PURE__ */ getUrl('@rescript/std@10.1.2/lib/es6/');\r\n\r\nexport const resetCssUrl = /* @__PURE__ */ getUrl('reset-css@5.0.1/reset.css');\r\n\r\nexport const riotBaseUrl = /* @__PURE__ */ getUrl('riot@7.1.0/');\r\n\r\nexport const snackbarUrl = /* @__PURE__ */ getUrl('@snackbar/core@1.7.0/dist/snackbar.css');\r\n\r\nexport const spacingJsUrl = /* @__PURE__ */ getUrl('spacingjs@1.0.7/dist/bundle.js');\r\n\r\nexport const sqlFormatterUrl = /* @__PURE__ */ getUrl(\r\n  'sql-formatter@12.2.1/dist/sql-formatter.min.js',\r\n);\r\n\r\nexport const sqljsBaseUrl = /* @__PURE__ */ getUrl('sql.js@1.8.0/dist/');\r\n\r\nexport const stencilUrl = /* @__PURE__ */ getUrl('@stencil/core@3.2.2/compiler/stencil.js');\r\n\r\nexport const stylisUrl = /* @__PURE__ */ getUrl('stylis@4.2.0/dist/umd/stylis.js');\r\n\r\nexport const svgbobWasmCdnUrl = /* @__PURE__ */ getUrl('svgbob-wasm@0.4.1-a0/svgbob_wasm_bg.wasm');\r\n\r\nexport const tagifyBaseUrl = /* @__PURE__ */ getUrl('@yaireo/tagify@4.9.6/dist/');\r\n\r\nexport const tailwindcssUrl = /* @__PURE__ */ getUrl(\r\n  '@mhsdesign/jit-browser-tailwindcss@0.3.0/dist/cdn.min.js',\r\n);\r\n\r\nexport const tauPrologBaseUrl = /* @__PURE__ */ getUrl('tau-prolog@0.3.4/modules/');\r\n\r\nexport const tealUrl = /* @__PURE__ */ getUrl(\r\n  'gh:teal-language/tl@d2fc36b5ff9a52d7265e63eb74cce70fd1cdbcb2/tl.lua',\r\n);\r\n\r\nexport const twigUrl = /* @__PURE__ */ getUrl('twig@1.16.0/twig.min.js');\r\n\r\nexport const typescriptUrl = /* @__PURE__ */ getUrl('typescript@5.1.3/lib/typescript.js');\r\n\r\nexport const uniterUrl = /* @__PURE__ */ getUrl('uniter@2.18.0/dist/uniter.js');\r\n\r\nexport const vegaCdnUrl = /* @__PURE__ */ getUrl('vega@5.25.0/build/vega.js');\r\n\r\nexport const vegaLiteCdnUrl = /* @__PURE__ */ getUrl('vega-lite@5.9.3/build/vega-lite.js');\r\n\r\nexport const vue3CdnUrl = /* @__PURE__ */ getUrl('vue@3');\r\n\r\nexport const vue2CdnUrl = /* @__PURE__ */ getUrl('vue@2');\r\n\r\nexport const vueSfcLoaderCdnBaseUrl = /* @__PURE__ */ getUrl('vue3-sfc-loader@0.8.4/dist/');\r\n\r\nexport const wabtjsUrl = /* @__PURE__ */ getUrl('wabt@1.0.32/index.js');\r\n\r\nexport const waveDromBaseUrl = /* @__PURE__ */ getUrl('wavedrom@3.2.0/');\r\n\r\nexport const webRBaseUrl = /* @__PURE__ */ getUrl('@r-wasm/webr@0.1.1/dist/');\r\n", "export const allowedOrigin = (origin = location.origin) =>\n  Boolean(\n    origin &&\n      (origin.endsWith('livecodes.io') ||\n        origin.endsWith('livecodes.pages.dev') ||\n        origin.endsWith('localpen.io') ||\n        origin.endsWith('localpen.pages.dev') ||\n        origin.startsWith('http://127.0.0.1') ||\n        origin.startsWith('http://localhost')),\n  );\n\nexport const whitelistTarget = (url: string) =>\n  new RegExp(/^(?:(?:http|https):\\/\\/(?:\\w+.)?)(githubusercontent.com|jsbin.com|)\\/(?:.*)/g).test(\n    url,\n  );\n", "import type { Config, Language, Processor, WorkerMessageEvent } from '../models';\r\n\r\nexport const debounce = (fn: (...x: any[]) => any, delay: number | (() => number)) => {\r\n  let timeout: any;\r\n\r\n  return (...args: unknown[]) => {\r\n    if (timeout) clearTimeout(timeout);\r\n    timeout = setTimeout(() => fn.apply(null, args), typeof delay === 'function' ? delay() : delay);\r\n  };\r\n};\r\n\r\nexport const decodeHTML = (html: string) => {\r\n  const txt = document.createElement('textarea');\r\n  txt.innerHTML = html;\r\n  return txt.value;\r\n};\r\n\r\nexport const encodeHTML = (html: string) =>\r\n  html\r\n    .replace(/&/g, '&amp;')\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;')\r\n    .replace(/'/g, '&#39;')\r\n    .replace(/\"/g, '&#34;');\r\n\r\nexport const escapeScript = (code: string) => code.replace(/<\\/script>/g, '<\\\\/script>');\r\n\r\nexport const escapeCode = (code: string, slash = true) =>\r\n  code\r\n    .replace(/\\\\/g, slash ? '\\\\\\\\' : '\\\\')\r\n    .replace(/`/g, '\\\\`')\r\n    .replace(/<\\/script>/g, '<\\\\/script>');\r\n\r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nexport const pipe = (...fns: Function[]) =>\r\n  fns.reduce(\r\n    (f, g) =>\r\n      (...args: any) =>\r\n        g(f(...args)),\r\n  );\r\n\r\n// replace non-alphanumeric with underscore\r\nexport const safeName = (name: string, symbol = '_') => name.replace(/[\\W]+/g, symbol);\r\n\r\n// from https://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\r\n// added safari (on mac & ios): monaco editor is broken on safari\r\nexport const isMobile = () => {\r\n  let mobile = false;\r\n  const userAgent = navigator.userAgent.toLowerCase();\r\n  (function (a) {\r\n    if (\r\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\r\n        a,\r\n      ) ||\r\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\r\n        a.substr(0, 4),\r\n      )\r\n    ) {\r\n      mobile = true;\r\n    }\r\n  })(userAgent || navigator.vendor || (window as any).opera);\r\n\r\n  const safari = userAgent.indexOf('safari') > -1 && userAgent.indexOf('chrome') === -1; // chrome says it is safari!\r\n\r\n  return mobile || safari;\r\n};\r\n\r\nexport const isRelativeUrl = (url?: string) =>\r\n  !url?.startsWith('http') && !url?.startsWith('data:');\r\n\r\nexport const getAbsoluteUrl = (url: string, baseUrl = document.baseURI) =>\r\n  isRelativeUrl(url) ? new URL(url, baseUrl).href : url;\r\n\r\nexport const cloneObject = <T>(x: Record<string, any>): T => JSON.parse(JSON.stringify(x));\r\n\r\nexport const objectMap = (\r\n  obj: Record<string, any>,\r\n  fn: (value: any, key: string, index: number) => any,\r\n) => Object.fromEntries(Object.entries(obj).map(([k, v], i) => [k, fn(v, k, i)]));\r\n\r\nexport const objectFilter = (\r\n  obj: Record<string, any>,\r\n  predicate: (value: any, key: string, index: number) => any,\r\n) => Object.fromEntries(Object.entries(obj).filter(([k, v], i) => predicate(v, k, i)));\r\n\r\nexport const copyToClipboard = (text: string) => {\r\n  if (document.queryCommandSupported && document.queryCommandSupported('copy')) {\r\n    const textarea = document.createElement('textarea');\r\n    textarea.textContent = text;\r\n    textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in Microsoft Edge.\r\n    document.body.appendChild(textarea);\r\n    textarea.select();\r\n    try {\r\n      return document.execCommand('copy'); // Security exception may be thrown by some browsers.\r\n    } catch (ex) {\r\n      // eslint-disable-next-line no-console\r\n      console.warn('Copy to clipboard failed.', ex);\r\n      return false;\r\n    } finally {\r\n      document.body.removeChild(textarea);\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const stringToValidJson = (str: string) =>\r\n  str\r\n    .replace(/'[^'\"]*'(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/g, function replaceSingleQuotes(matchedStr) {\r\n      return '\"' + matchedStr.substring(1, matchedStr.length - 1) + '\"';\r\n    })\r\n    .replace(\r\n      /(\\w+(?=([^\"\\\\]*(\\\\.|\"([^\"\\\\]*\\\\.)*[^\"\\\\]*\"))*[^\"]*$))(\\s*:)(?!(\\w*)(?:\"))/gm,\r\n      function quoteNonQuoted(matchedStr) {\r\n        return '\"' + matchedStr.substring(0, matchedStr.length - 1).trimEnd() + '\":';\r\n      },\r\n    )\r\n    .replace(/,\\s*([\\]}])/g, '$1'); // remove trailing comma\r\n\r\nexport const stringify = (obj: any, pretty = false) => {\r\n  try {\r\n    return JSON.stringify(obj, undefined, pretty ? 2 : undefined);\r\n  } catch {\r\n    return '';\r\n  }\r\n};\r\n\r\nexport const getRandomString = () => String(Math.random()) + '-' + Date.now().toFixed();\r\n\r\nexport const downloadFile = (filename: string, extension: string, content: string) => {\r\n  const a = document.createElement('a');\r\n  a.style.display = 'none';\r\n  a.href = content;\r\n  a.download = safeName(filename) + '.' + extension;\r\n  a.click();\r\n  a.remove();\r\n};\r\n\r\nexport const loadScript = (url: string, name?: string) =>\r\n  new Promise((resolve, reject) => {\r\n    if (name && (globalThis as any)[name]) {\r\n      return resolve((globalThis as any)[name]);\r\n    }\r\n\r\n    // if running in web worker\r\n    if (typeof (globalThis as any).importScripts === 'function') {\r\n      (globalThis as any).importScripts(url);\r\n      if (name && (globalThis as any)[name]) {\r\n        return resolve((globalThis as any)[name]);\r\n      }\r\n      return resolve(globalThis);\r\n    }\r\n\r\n    const script = document.createElement('script');\r\n    script.src = url;\r\n    script.async = true;\r\n    const removeEventListeners = () => {\r\n      script.removeEventListener('load', onLoad);\r\n      script.removeEventListener('error', onError);\r\n    };\r\n    const onLoad = () => {\r\n      removeEventListeners();\r\n      if (!name) {\r\n        return resolve('loaded: ' + url);\r\n      }\r\n      const i = setInterval(() => {\r\n        if ((window as any)[name]) {\r\n          clearInterval(i);\r\n          return resolve((window as any)[name]);\r\n        }\r\n      }, 5);\r\n    };\r\n    const onError = () => {\r\n      removeEventListeners();\r\n      reject('failed to load: ' + url);\r\n    };\r\n    script.addEventListener('load', onLoad);\r\n    script.addEventListener('error', onError);\r\n    document.head.appendChild(script);\r\n  });\r\n\r\nexport const loadStylesheet = (url: string, id?: string, insertBefore?: string) => {\r\n  if (id && document.getElementById(id)) return;\r\n  const stylesheet = document.createElement('link');\r\n  stylesheet.rel = 'stylesheet';\r\n  stylesheet.href = url;\r\n  stylesheet.id = id || 'styles-' + getRandomString();\r\n  document.head.insertBefore(\r\n    stylesheet,\r\n    insertBefore ? document.querySelector(insertBefore) : null,\r\n  );\r\n};\r\n\r\nexport const typedArrayToBuffer = (array: Uint8Array): ArrayBuffer =>\r\n  array.buffer.slice(array.byteOffset, array.byteLength + array.byteOffset);\r\n\r\nexport const getDate = () => {\r\n  let date = new Date();\r\n  const offset = date.getTimezoneOffset();\r\n  date = new Date(date.getTime() - offset * 60 * 1000);\r\n  return date.toISOString().split('T')[0];\r\n};\r\n\r\nexport const handleFetchError = (res: Response) => (res.ok ? res : Promise.reject());\r\nexport const fetchWithHandler = (input: RequestInfo, init?: RequestInit) =>\r\n  fetch(input, init).then(handleFetchError);\r\n\r\nexport const blobToBase64 = (file: Blob): Promise<string> =>\r\n  new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => (typeof reader.result === 'string' ? resolve(reader.result) : reject());\r\n    reader.onerror = (error) => reject(error);\r\n  });\r\n\r\nexport const Uint8ArrayToBase64 = (u8: Uint8Array) => {\r\n  const CHUNK_SZ = 0x8000;\r\n  const c = [];\r\n  for (let i = 0; i < u8.length; i += CHUNK_SZ) {\r\n    c.push(String.fromCharCode.apply(null, (u8 as any).subarray(i, i + CHUNK_SZ)));\r\n  }\r\n  return btoa(c.join(''));\r\n};\r\n\r\nexport const base64ToUint8Array = (str: string) =>\r\n  new Uint8Array(\r\n    atob(str)\r\n      .split('')\r\n      .map((c) => c.charCodeAt(0)),\r\n  );\r\n\r\nexport const typedArraysAreEqual = (a: Uint8Array, b: Uint8Array) => {\r\n  if (a === b) {\r\n    return true;\r\n  }\r\n  if (a.byteLength !== b.byteLength) {\r\n    return false;\r\n  }\r\n  for (let i = 0; i < a.byteLength; i++) {\r\n    if (a[i] !== b[i]) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n};\r\n\r\nexport const getWorkerDataURL = (url: string) => {\r\n  const content = `importScripts(\"${url}\");`;\r\n  return 'data:text/javascript;base64,' + btoa(content);\r\n};\r\n\r\nexport const removeComments = (src: string) =>\r\n  src.replace(/\\/\\*[\\s\\S]*?\\*\\/|([^\\\\:]|^)\\/\\/.*$/gm, '$1');\r\n\r\nexport const removeStrings = (src: string) =>\r\n  src\r\n    .replace(/'[^\\n']*'/gm, \"''\")\r\n    .replace(/\"[^\\n\"]*\"/gm, '\"\"')\r\n    .replace(/`[^`]*`/gm, '``');\r\n\r\nexport const removeCommentsAndStrings = (src: string) => removeStrings(removeComments(src));\r\n\r\nexport const getLanguageCustomSettings = (language: Language | Processor, config: Config) => ({\r\n  ...(config.customSettings as any)[language],\r\n});\r\n\r\nexport const getValidUrl = (url?: string) => {\r\n  if (!url) return null;\r\n  let validUrl = null;\r\n  if (url.startsWith('http') || url.startsWith('data:')) {\r\n    try {\r\n      validUrl = new URL(url).href;\r\n    } catch {\r\n      try {\r\n        validUrl = new URL(decodeURIComponent(url)).href;\r\n      } catch {\r\n        //\r\n      }\r\n    }\r\n  }\r\n  return validUrl;\r\n};\r\n\r\nexport const runOrContinue =\r\n  <T>(fn: (x: T) => Promise<T>, catchFn?: (err: unknown) => void) =>\r\n  async (x: T): Promise<T> => {\r\n    try {\r\n      const result = await fn(x);\r\n      return result;\r\n    } catch (error) {\r\n      if (typeof catchFn === 'function') {\r\n        catchFn(error);\r\n      }\r\n      return x;\r\n    }\r\n  };\r\n\r\nexport const getFileExtension = (file: string) => file.split('.')[file.split('.').length - 1];\r\n\r\nexport const isInIframe = () => {\r\n  try {\r\n    return window.self !== window.top;\r\n  } catch {\r\n    return true;\r\n  }\r\n};\r\n\r\nexport const indentCode = (code: string, spaces: number, skipFirstLine = true) =>\r\n  (skipFirstLine ? '' : ' '.repeat(spaces)) + code.split('\\n').join('\\n' + ' '.repeat(spaces));\r\n\r\nexport const hideOnClickOutside = (element: HTMLElement) => {\r\n  const hideElement = () => {\r\n    element.style.display = 'none';\r\n    removeListeners();\r\n    (window as any).watchingEscape = false;\r\n  };\r\n\r\n  const outsideClickListener = (event: MouseEvent) => {\r\n    if (!element.contains(event.target as Node) && isVisible(element)) {\r\n      hideElement();\r\n    }\r\n  };\r\n\r\n  const escapeListener = (event: KeyboardEvent) => {\r\n    if (event.key === 'Escape') {\r\n      hideElement();\r\n      event.preventDefault();\r\n    }\r\n  };\r\n\r\n  const isVisible = (elem: HTMLElement) =>\r\n    !!elem && !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);\r\n\r\n  const removeListeners = () => {\r\n    document.removeEventListener('click', outsideClickListener);\r\n    document.removeEventListener('keydown', escapeListener);\r\n  };\r\n\r\n  document.addEventListener('click', outsideClickListener);\r\n  document.addEventListener('keydown', escapeListener);\r\n  (window as any).watchingEscape = true;\r\n\r\n  return {\r\n    clear: () => removeListeners(),\r\n  };\r\n};\r\n\r\nexport const callWorker = async <T = string, K = unknown>(\r\n  worker: Worker,\r\n  message: { method: T; args?: any },\r\n) =>\r\n  new Promise<K>((resolve) => {\r\n    const messageId = getRandomString();\r\n\r\n    const handler = (event: WorkerMessageEvent<T, K>) => {\r\n      const received = event.data;\r\n\r\n      if (received.method === message.method && received.messageId === messageId) {\r\n        worker.removeEventListener('message', handler);\r\n        resolve(received.data as K);\r\n      }\r\n    };\r\n    worker.addEventListener('message', handler);\r\n\r\n    worker.postMessage({\r\n      ...message,\r\n      messageId,\r\n    });\r\n  });\r\n\r\nexport const toCamelCase = (str: string) =>\r\n  str\r\n    .replace(/[-_.]+/g, ' ')\r\n    .trim()\r\n    .replace(/^([A-Z])|\\s+(\\w)/g, function (_match, p1, p2) {\r\n      if (p2) return p2.toUpperCase();\r\n      return p1.toLowerCase();\r\n    });\r\n\r\nexport const removeDuplicates = (arr: any[] | undefined) => Array.from(new Set(arr));\r\n", "import { loadScript } from '../utils';\nimport { localforageUrl } from '../vendors';\nimport { createPub } from '../events';\nimport type { Storage, StoreName } from './models';\nimport { fakeStorage } from './fake-storage';\n\ntype LocalForage = typeof import('localforage');\nlet localforage: LocalForage;\nconst dbName = 'livecodes';\nconst stores: Record<string, LocalForage> = {};\n\nexport const generateId = () =>\n  (Date.now() + '' + Math.floor(Math.floor(Math.random() * Date.now()))).substring(0, 24);\n\nconst loadLocalforage = async (store: string) => {\n  if (!localforage) {\n    localforage = (await loadScript(localforageUrl, 'localforage')) as LocalForage;\n    localforage.config({\n      name: dbName,\n    });\n  }\n  if (!stores[store]) {\n    stores[store] = localforage.createInstance({\n      name: dbName,\n      storeName: store,\n    });\n  }\n};\n\n/**\n * Creates asynchronous data store using localforage\n */\nexport const createStorage = async <T>(name: StoreName, isEmbed: boolean): Promise<Storage<T>> => {\n  // do not allow access to storage in embeds\n  if (isEmbed) return fakeStorage;\n\n  let store: LocalForage;\n  const pub = createPub<T[]>();\n\n  const subscribe = (fn: (data: T[]) => void) => pub.subscribe(fn);\n\n  const unsubscribeAll = () => {\n    pub.unsubscribeAll();\n  };\n\n  const notifyPub = () => {\n    if (pub.hasSubscribers()) {\n      getAllData().then((data) => {\n        pub.notify(data);\n      });\n    }\n  };\n\n  const load = async () => {\n    await loadLocalforage(name);\n    store = stores[name];\n  };\n\n  const getList = async (): Promise<string[]> => {\n    await load();\n    return store.keys();\n  };\n\n  const getAllData = async (): Promise<T[]> => {\n    await load();\n    const list: T[] = [];\n    await store.iterate((item: T) => {\n      list.push(item);\n    });\n    return list.sort((a: any, b: any) =>\n      b.lastModified && a.lastModified ? b.lastModified - a.lastModified : 0,\n    );\n  };\n\n  const getItem = async (id: string): Promise<T | null> => {\n    await load();\n    return store.getItem(id);\n  };\n\n  const updateItem = async (id: string, value: T, notify = true) => {\n    await load();\n    await store.setItem(id, value);\n    if (notify) {\n      notifyPub();\n    }\n    return id;\n  };\n\n  const addItem = async (value: T, notify = true) => {\n    const id = generateId();\n    await updateItem(id, value, notify);\n    return id;\n  };\n\n  const deleteItem = async (id: string) => {\n    await load();\n    await store.removeItem(id);\n    notifyPub();\n  };\n\n  const bulkInsert = async (data: T[]) => {\n    for (const item of data) {\n      await addItem(item, false);\n    }\n    notifyPub();\n  };\n\n  // like bulkInsert, with same ids\n  const restore = async (data: T[]) => {\n    for (const item of data as any) {\n      if (item.id) {\n        await updateItem(item.id, item, false);\n      } else {\n        await addItem(item, false);\n      }\n    }\n    notifyPub();\n  };\n\n  const clear = async () => {\n    await load();\n    await store.clear();\n    notifyPub();\n  };\n\n  return {\n    getList,\n    getAllData,\n    getItem,\n    addItem: (value) => addItem(value),\n    updateItem: (id, value) => updateItem(id, value),\n    deleteItem,\n    bulkInsert,\n    restore,\n    clear,\n    subscribe,\n    unsubscribeAll,\n  };\n};\n", "import {\n  compressToEncodedURIComponent,\n  decompressFromEncodedURIComponent,\n  decompressFromBase64,\n} from 'lz-string';\n\nexport const compress = compressToEncodedURIComponent;\nexport const decompress = (compressed: string, isJSON = true) => {\n  const decoded = decompressFromEncodedURIComponent(compressed);\n  if (decoded) {\n    if (!isJSON) return decoded;\n    try {\n      if (JSON.parse(decoded)) {\n        return decoded;\n      }\n    } catch {\n      //\n    }\n  }\n  // for backward compatibility\n  return decompressFromBase64(compressed);\n};\n", "import type { Config } from '../models';\r\nimport { allowedOrigin } from './allowed-origin';\r\n\r\nconst dpasteGetUrl = 'https://dpaste.com/';\r\nconst dpastePostUrl = 'https://dpaste.com/api/v2/';\r\nconst apiUrl = 'https://api2.livecodes.io/share';\r\n\r\ntype ConfigWithResult = Partial<Config & { result: string }>;\r\ninterface ShareService {\r\n  getProject: (id: string) => Promise<ConfigWithResult>;\r\n  shareProject: (config: ConfigWithResult) => Promise<string>;\r\n}\r\n\r\nconst dpasteService = {\r\n  getProject: async (id: string): Promise<ConfigWithResult> => {\r\n    try {\r\n      const res = await fetch(dpasteGetUrl + id + '.txt');\r\n      if (!res.ok) return {};\r\n      return JSON.parse(await res.text());\r\n    } catch (error) {\r\n      return {};\r\n    }\r\n  },\r\n  shareProject: async (config: ConfigWithResult): Promise<string> => {\r\n    try {\r\n      const res = await fetch(dpastePostUrl, {\r\n        method: 'POST',\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'User-Agent': 'LiveCodes / https://livecodes.io/',\r\n        },\r\n        body: `content=${encodeURIComponent(JSON.stringify(config))}&title=${encodeURIComponent(\r\n          config.title || '',\r\n        )}&syntax=json&expiry_days=365`,\r\n      });\r\n      if (!res.ok) return '';\r\n      const url = await res.text();\r\n      return url.replace(dpasteGetUrl, '');\r\n    } catch (error) {\r\n      return '';\r\n    }\r\n  },\r\n};\r\n\r\nconst apiService = {\r\n  getProject: async (id: string): Promise<ConfigWithResult> => {\r\n    // for backward compatibility\r\n    if (id.length < 11) return dpasteService.getProject(id);\r\n\r\n    if (!allowedOrigin()) return {};\r\n    try {\r\n      const res = await fetch(apiUrl + '?id=' + id);\r\n      if (!res.ok) return {};\r\n      return JSON.parse(await res.text());\r\n    } catch (error) {\r\n      return {};\r\n    }\r\n  },\r\n  shareProject: async (config: ConfigWithResult): Promise<string> => {\r\n    if (!allowedOrigin()) return '';\r\n    try {\r\n      const res = await fetch(apiUrl, {\r\n        method: 'POST',\r\n        mode: 'cors',\r\n        body: JSON.stringify(config),\r\n      });\r\n      if (!res.ok) return '';\r\n      return res.text();\r\n    } catch (error) {\r\n      return '';\r\n    }\r\n  },\r\n};\r\n\r\nexport const shareService: ShareService = allowedOrigin() ? apiService : dpasteService;\r\n", "import type { ContentConfig, EditorId, Config, User, Language } from '../models';\n// eslint-disable-next-line import/no-internal-modules\nimport { replaceImports } from '../compiler/import-map';\nimport type {\n  getLanguageCompiler as getLanguageCompilerFn,\n  getLanguageExtension as getLanguageExtensionFn,\n} from '../languages';\nimport { escapeScript, safeName } from '../utils';\n\nexport interface Files {\n  [key: string]: { content: string };\n}\nexport const getFilesFromConfig = (\n  config: Config | ContentConfig,\n  {\n    getLanguageExtension,\n  }: {\n    getLanguageExtension: typeof getLanguageExtensionFn;\n  },\n): Files => {\n  const filenames = {\n    markup: 'index',\n    style: 'style',\n    script: 'script',\n  };\n  const codeFiles = (Object.keys(filenames) as EditorId[]).reduce((files, editorId) => {\n    const filename = filenames[editorId];\n    const language = config[editorId].language;\n    const extension = getLanguageExtension?.(language) || 'md';\n    const content = config[editorId].content || '';\n    return {\n      ...files,\n      ...(content ? { [filename + '.' + extension]: { content } } : {}),\n    };\n  }, {});\n\n  const externalStyles =\n    config.stylesheets.length > 0\n      ? {\n          styles: {\n            content: config.stylesheets\n              .map((url) => `<link rel=\"stylesheet\" href=\"${url}\" />`)\n              .join('\\n'),\n          },\n        }\n      : undefined;\n\n  const externalScripts =\n    config.scripts.length > 0\n      ? {\n          scripts: {\n            content: config.scripts.map((url) => `<script src=\"${url}\"></script>`).join('\\n'),\n          },\n        }\n      : undefined;\n\n  const tests = config.tests?.content\n    ? {\n        ['script.spec.' + getLanguageExtension?.(config.tests?.language) || 'ts']: {\n          content: config.tests?.content,\n        },\n      }\n    : undefined;\n\n  return {\n    ...codeFiles,\n    ...externalStyles,\n    ...externalScripts,\n    ...tests,\n  };\n};\n\nexport const getDescriptionFile = (\n  config: ContentConfig,\n  user?: User,\n  url?: string,\n  gist = true,\n) => {\n  const githubUrl = gist ? 'https://gist.github.com/' : 'https://github.com/';\n  const userInfo = !user\n    ? ''\n    : !user.username\n    ? 'by ' + user.displayName\n    : 'by [' + user.displayName + '](' + githubUrl + user.username + ')';\n  const projectInfo = url ? `[project](https://livecodes.io/?x=${url})` : 'project';\n\n  return {\n    [safeName(config.title) + '.md']: {\n      content: `# ${config.title}\\nA ${projectInfo} created ${userInfo} on [LiveCodes](https://livecodes.io).`,\n    },\n  };\n};\n\nexport const getCompilerScripts = ({\n  baseUrl,\n  editorId,\n  config,\n  compiled,\n  supportedLanguages,\n  getLanguageCompiler,\n}: {\n  baseUrl: string;\n  editorId: EditorId;\n  config: Config;\n  compiled: { [key in EditorId]: string };\n  supportedLanguages: { [key in EditorId]: Language[] };\n  getLanguageCompiler: typeof getLanguageCompilerFn;\n}) => {\n  if (supportedLanguages[editorId].includes(config[editorId].language)) return [];\n  const compilerScripts = getLanguageCompiler?.(config[editorId].language)?.scripts;\n  const compiledCode =\n    config[editorId].language === 'python' ? config[editorId].content || '' : compiled[editorId];\n  const scripts =\n    typeof compilerScripts === 'function'\n      ? compilerScripts({ compiled: compiledCode, baseUrl, config })\n      : compilerScripts;\n  return scripts?.filter((url) => url.startsWith('https://')) || [];\n};\n\nexport const getContent = ({\n  editorId,\n  config,\n  compiled,\n  supportedLanguages,\n  getLanguageCompiler,\n}: {\n  editorId: EditorId;\n  config: Config;\n  compiled: { [key in EditorId]: string };\n  supportedLanguages: { [key in EditorId]: Language[] };\n  getLanguageCompiler: typeof getLanguageCompilerFn;\n}) => {\n  const isScriptSupported = ['javascript', 'jsx', 'tsx', ...supportedLanguages.script].includes(\n    config.script.language,\n  );\n\n  const content = {\n    markup: ['html', ...supportedLanguages.markup].includes(config.markup.language)\n      ? config.markup.content\n      : compiled.markup,\n    style: ['css', ...supportedLanguages.style].includes(config.style.language)\n      ? config.style.content\n      : compiled.style,\n    script:\n      config.script.language === 'php'\n        ? config.script.content?.replace(/<\\?php/g, '') || ''\n        : config.script.language === 'python'\n        ? config.script.content\n        : replaceImports(\n            (isScriptSupported ? config.script.content : compiled.script) || '',\n            config,\n          ),\n  };\n\n  const scriptType = getLanguageCompiler?.(config.script.language)?.scriptType;\n  if (!isScriptSupported && scriptType && scriptType !== 'module') {\n    if (editorId === 'markup') {\n      return (\n        content.markup +\n        `\n<script type=\"${scriptType}\">\n${escapeScript(content.script || '')}\n</script>\n`\n      );\n    }\n    if (editorId === 'script') {\n      if (config.script.language === 'python') {\n        return 'window.addEventListener(\"load\", () => {brython()});';\n      }\n      return '';\n    }\n  }\n  return content[editorId] || '';\n};\n", "import type { User } from '../models';\n// eslint-disable-next-line import/no-internal-modules\nimport { safeName } from '../utils/utils';\n\nexport interface GitHubFile {\n  path: string;\n  content: string;\n}\nexport const getGithubHeaders = (user: User, mediaType?: 'object' | 'raw') => ({\n  Accept: `application/vnd.github.v3${mediaType ? '.' + mediaType : ''}+json`,\n  'Content-Type': 'application/json',\n  Authorization: 'token ' + user.token,\n});\n\nexport const repoExists = async (user: User, repo: string) => {\n  try {\n    const res = await fetch(`https://api.github.com/repos/${user.username}/${repo}`, {\n      method: 'GET',\n      cache: 'no-store',\n      headers: getGithubHeaders(user),\n    });\n    return res.ok;\n  } catch {\n    return false;\n  }\n};\n\nconst createRepo = async (user: User, repo: string, privateRepo = false, description?: string) => {\n  const res = await fetch('https://api.github.com/user/repos', {\n    method: 'POST',\n    cache: 'no-store',\n    headers: getGithubHeaders(user),\n    body: JSON.stringify({\n      name: repo,\n      private: privateRepo,\n      ...(privateRepo ? {} : { homepage: `https://${user.username}.github.io/${repo}/` }),\n      ...(description ? { description } : {}),\n    }),\n  });\n  if (!res.ok) {\n    const error = await res.json().then((data) => data.errors[0]?.message);\n    if (error === 'name already exists on this account') {\n      throw new Error('Repo name already exists');\n    }\n    throw new Error('Error creating repo');\n  }\n  return res.json().then((data) => data.name);\n};\n\nconst createFile = async ({\n  user,\n  repo,\n  branch,\n  file,\n  message,\n  initialize = false,\n  encoded = false,\n}: {\n  user: User;\n  repo: string;\n  branch: string;\n  file: GitHubFile;\n  message: string;\n  initialize: boolean;\n  encoded: boolean;\n}) => {\n  const url = `https://api.github.com/repos/${user.username}/${repo}/contents/`;\n  const path = file.path.split('/').slice(0, -1).join('/');\n\n  let sha: string | undefined;\n\n  if (!initialize) {\n    const response = await fetch(url + path, {\n      method: 'GET',\n      cache: 'no-store',\n      headers: getGithubHeaders(user),\n    });\n    if (response.ok) {\n      const files = await response.json();\n      sha = files.find((f: any) => f.path === file.path)?.sha;\n    }\n  }\n  const res = await fetch(url + file.path, {\n    method: 'PUT',\n    cache: 'no-store',\n    headers: getGithubHeaders(user),\n    body: JSON.stringify({\n      message: message || 'deploy',\n      content: encoded ? file.content : btoa(file.content),\n      branch,\n      ...(sha ? { sha } : {}),\n    }),\n  });\n\n  if (!res.ok) {\n    throw new Error('Error creating file');\n  }\n  return res.json();\n};\n\nexport const getContent = async ({\n  user,\n  repo,\n  branch,\n  path,\n}: {\n  user: User;\n  repo: string;\n  branch?: string;\n  path: string;\n}) => {\n  const url =\n    `https://api.github.com/repos/${user.username}/${repo}/contents/${path}` +\n    (branch ? `?ref=${branch}` : '');\n\n  const res = await fetch(url, {\n    method: 'GET',\n    cache: 'no-store',\n    headers: getGithubHeaders(user, 'object'),\n  });\n\n  if (!res.ok) {\n    throw new Error('Error getting file');\n  }\n\n  const result = await res.json();\n\n  // https://docs.github.com/en/rest/repos/contents#size-limits\n  if (result.content === '' && result.encoding === 'none') {\n    const rawRes = await fetch(url, {\n      method: 'GET',\n      cache: 'no-store',\n      headers: getGithubHeaders(user, 'raw'),\n    });\n    if (!rawRes.ok) {\n      throw new Error('Error getting file');\n    }\n\n    if (path.endsWith('.b64.zip')) {\n      // sync data\n      result.content = await rawRes.arrayBuffer();\n      result.encoding = 'arrayBuffer';\n    } else {\n      result.content = btoa(await rawRes.text());\n      result.encoding = 'base64';\n    }\n  }\n\n  return result;\n};\n\nconst initializeRepo = async (user: User, repo: string, branch = 'main', readmeContent?: string) =>\n  (\n    await createFile({\n      user,\n      repo,\n      branch,\n      file: { path: 'README.md', content: `${readmeContent || '# ' + repo + '\\n'}` },\n      message: 'initial commit',\n      initialize: true,\n      encoded: false,\n    })\n  )?.commit.sha;\n\nconst getLastCommit = async (user: User, repo: string, branch: string) => {\n  const res = await fetch(\n    `https://api.github.com/repos/${user.username}/${repo}/git/matching-refs/heads/${branch}?per_page=100`,\n    {\n      method: 'GET',\n      cache: 'no-store',\n      headers: getGithubHeaders(user),\n    },\n  );\n  const refs = await res.json();\n\n  if (refs.message === 'Git Repository is empty.') {\n    const commit = await initializeRepo(user, repo, 'main');\n    return branch === 'main' ? commit : null;\n  }\n\n  if (!res.ok) {\n    throw new Error('Error getting last commit');\n  }\n\n  const branchRef = refs.find((ref: any) => ref.ref === `refs/heads/${branch}`);\n\n  if (!branchRef) return null;\n  return branchRef.object.sha;\n};\n\nconst getTree = async (user: User, repo: string, commit: string) => {\n  const res = await fetch(\n    `https://api.github.com/repos/${user.username}/${repo}/commits/${commit}`,\n    {\n      method: 'GET',\n      cache: 'no-store',\n      headers: getGithubHeaders(user),\n    },\n  );\n\n  if (!res.ok) {\n    throw new Error('Error getting commit tree');\n  }\n\n  const data = await res.json();\n  const tree = data?.commit?.tree?.sha;\n\n  if (!tree) return null;\n  return tree;\n};\n\nconst createTree = async (\n  user: User,\n  repo: string,\n  files: GitHubFile[],\n  baseTree: string | null,\n): Promise<string> => {\n  const tree = files.map((file) => ({\n    path: file.path,\n    mode: '100644',\n    type: 'blob',\n    content: file.content,\n  }));\n\n  const res = await fetch(`https://api.github.com/repos/${user.username}/${repo}/git/trees`, {\n    method: 'POST',\n    cache: 'no-store',\n    headers: getGithubHeaders(user),\n    body: JSON.stringify({\n      // eslint-disable-next-line camelcase\n      ...(baseTree ? { base_tree: baseTree } : {}),\n      tree,\n    }),\n  });\n  if (!res.ok) {\n    throw new Error('Error creating tree');\n  }\n  return res.json().then((data) => data.sha);\n};\n\nconst createCommit = async (\n  user: User,\n  repo: string,\n  message: string,\n  tree: string,\n  lastCommit: string | null,\n): Promise<string> => {\n  const res = await fetch(`https://api.github.com/repos/${user.username}/${repo}/git/commits`, {\n    method: 'POST',\n    cache: 'no-store',\n    headers: getGithubHeaders(user),\n    body: JSON.stringify({\n      tree,\n      message: message || 'deploy',\n      ...(lastCommit ? { parents: [lastCommit] } : {}),\n    }),\n  });\n  if (!res.ok) {\n    throw new Error('Error creating commit');\n  }\n  return res.json().then((data) => data.sha);\n};\n\nconst createBranch = async (user: User, repo: string, branch: string, commit: string) => {\n  const res = await fetch(`https://api.github.com/repos/${user.username}/${repo}/git/refs`, {\n    method: 'POST',\n    cache: 'no-store',\n    headers: getGithubHeaders(user),\n    body: JSON.stringify({\n      ref: `refs/heads/${branch}`,\n      sha: commit,\n    }),\n  });\n  if (!res.ok) {\n    throw new Error('Error creating branch');\n  }\n  return true;\n};\n\nconst updateBranch = async (user: User, repo: string, branch: string, commit: string) => {\n  const res = await fetch(\n    `https://api.github.com/repos/${user.username}/${repo}/git/refs/heads/${branch}`,\n    {\n      method: 'PATCH',\n      cache: 'no-store',\n      headers: getGithubHeaders(user),\n      body: JSON.stringify({\n        sha: commit,\n      }),\n    },\n  );\n  if (!res.ok) {\n    throw new Error('Error updating branch');\n  }\n  return true;\n};\n\nexport const commitFiles = async ({\n  files,\n  user,\n  repo,\n  branch,\n  message,\n  newRepo,\n  privateRepo,\n  description,\n  readmeContent,\n  clearPrevious = true,\n}: {\n  files: GitHubFile[];\n  user: User;\n  repo: string;\n  branch: string;\n  message: string;\n  newRepo?: boolean;\n  privateRepo?: boolean;\n  description?: string;\n  readmeContent?: string;\n  clearPrevious?: boolean;\n}) => {\n  let lastCommit: string | null;\n  let tree: string | null;\n  let commit: string | null;\n  let succeeded = false;\n\n  if (newRepo) {\n    repo = safeName(repo, '-').toLowerCase();\n  }\n\n  try {\n    if (newRepo || !(await repoExists(user, repo))) {\n      newRepo = true;\n      await createRepo(user, repo, privateRepo, description);\n      const initialCommit = await initializeRepo(user, repo, 'main', readmeContent);\n      lastCommit = branch === 'main' ? initialCommit : null;\n    } else {\n      lastCommit = await getLastCommit(user, repo, branch);\n    }\n    const baseTree = lastCommit && !clearPrevious ? await getTree(user, repo, lastCommit) : null;\n    tree = await createTree(user, repo, files, baseTree);\n    commit = await createCommit(user, repo, message, tree, lastCommit);\n\n    if (lastCommit) {\n      succeeded = await updateBranch(user, repo, branch, commit);\n    } else {\n      succeeded = await createBranch(user, repo, branch, commit);\n    }\n\n    if (!succeeded) return null;\n\n    return {\n      tree,\n      commit,\n    };\n  } catch (error: any) {\n    return null;\n  }\n};\n\nexport const commitFile = async ({\n  file,\n  user,\n  repo,\n  branch,\n  message,\n  newRepo,\n  privateRepo,\n  description,\n  readmeContent,\n}: {\n  file: GitHubFile;\n  user: User;\n  repo: string;\n  branch: string;\n  message: string;\n  newRepo?: boolean;\n  privateRepo?: boolean;\n  description?: string;\n  readmeContent?: string;\n}) => {\n  try {\n    if (newRepo || !(await repoExists(user, repo))) {\n      newRepo = true;\n      repo = safeName(repo, '-').toLowerCase();\n      await createRepo(user, repo, privateRepo, description);\n      await initializeRepo(user, repo, branch, readmeContent);\n    }\n\n    const result = await createFile({\n      user,\n      repo,\n      branch,\n      file,\n      message,\n      initialize: newRepo || false,\n      encoded: true,\n    });\n\n    return {\n      tree: result?.commit?.tree?.sha,\n      commit: result?.commit?.sha,\n    };\n  } catch (error: any) {\n    return null;\n  }\n};\n\nexport const getUserRepos = async (\n  user: User,\n  reposType: 'all' | 'owner' | 'public' | 'private' | 'member' = 'public',\n) => {\n  let page = 1;\n  const pageSize = 100;\n  const maxPages = 5;\n  const results = [];\n\n  while (page <= maxPages) {\n    const response = await fetch(\n      `https://api.github.com/user/repos?type=${reposType}&per_page=${pageSize}&page=${page}`,\n      {\n        method: 'GET',\n        cache: 'no-store',\n        headers: getGithubHeaders(user),\n      },\n    );\n    page += 1;\n    if (!response.ok) {\n      continue;\n    }\n    const newResults = await response.json();\n    results.push(...newResults.map((repo: any) => repo.name));\n    if (newResults.length < pageSize) {\n      page = maxPages + 1;\n    }\n  }\n  return results;\n};\n", "import type { Config } from '../models';\r\n\r\nexport const defaultConfig: Config = {\r\n  title: 'Untitled Project',\r\n  description: '',\r\n  tags: [],\r\n  autoupdate: true,\r\n  autosave: false,\r\n  delay: 1500,\r\n  formatOnsave: false,\r\n  mode: 'full',\r\n  theme: 'dark',\r\n  recoverUnsaved: true,\r\n  showSpacing: false,\r\n  welcome: true,\r\n  readonly: false,\r\n  allowLangChange: true,\r\n  activeEditor: undefined,\r\n  languages: undefined,\r\n  markup: {\r\n    language: 'html',\r\n    content: '',\r\n  },\r\n  style: {\r\n    language: 'css',\r\n    content: '',\r\n  },\r\n  script: {\r\n    language: 'javascript',\r\n    content: '',\r\n  },\r\n  stylesheets: [],\r\n  scripts: [],\r\n  cssPreset: '',\r\n  imports: {},\r\n  types: {},\r\n  tests: {\r\n    language: 'typescript',\r\n    content: '',\r\n  },\r\n  tools: {\r\n    enabled: 'all',\r\n    active: '',\r\n    status: '',\r\n  },\r\n  zoom: 1,\r\n  processors: [],\r\n  customSettings: {},\r\n  editor: undefined,\r\n  fontFamily: undefined,\r\n  fontSize: undefined,\r\n  useTabs: false,\r\n  tabSize: 2,\r\n  lineNumbers: true,\r\n  wordWrap: false,\r\n  closeBrackets: true,\r\n  semicolons: true,\r\n  singleQuote: false,\r\n  trailingComma: true,\r\n  emmet: true,\r\n  editorMode: undefined,\r\n  version: process.env.VERSION as string,\r\n};\r\n", "/* eslint-disable import/no-internal-modules */\r\nimport type { ContentConfig, User } from '../models';\r\nimport type { getLanguageExtension as getLanguageExtensionFn } from '../languages';\r\nimport { getDescriptionFile, getFilesFromConfig } from '../export/utils';\r\nimport { generateId } from '../storage/storage';\r\nimport { safeName } from '../utils/utils';\r\nimport { commitFile, commitFiles, type GitHubFile } from '../services/github';\r\nimport { defaultConfig } from '../config/default-config';\r\n\r\nconst prepareFiles = ({\r\n  config,\r\n  content,\r\n  commitSource,\r\n  singleFile,\r\n  deps,\r\n}: {\r\n  config: ContentConfig;\r\n  content: {\r\n    resultPage: string;\r\n    style?: string;\r\n    script?: string;\r\n  };\r\n  commitSource: boolean;\r\n  singleFile: boolean;\r\n  deps: {\r\n    getLanguageExtension: typeof getLanguageExtensionFn;\r\n  };\r\n}): GitHubFile[] => {\r\n  const files = [{ path: 'index.html', content: content.resultPage }];\r\n  if (!singleFile) {\r\n    files.push(\r\n      { path: 'style.css', content: content.style || '' },\r\n      { path: 'script.js', content: content.script || '' },\r\n    );\r\n  }\r\n  if (commitSource) {\r\n    const sourceFiles = getFilesFromConfig(config, deps);\r\n    files.push(\r\n      ...Object.keys(sourceFiles).map((filename) => ({\r\n        path: 'src/' + filename,\r\n        content: sourceFiles[filename].content,\r\n      })),\r\n      { path: 'src/livecodes.json', content: JSON.stringify(config, null, 2) },\r\n    );\r\n  }\r\n  return files;\r\n};\r\n\r\nexport interface DeployResult {\r\n  url: string;\r\n  username: string;\r\n  repo: string;\r\n  tree: string;\r\n  commit: string;\r\n}\r\n\r\nexport const deploy = async ({\r\n  user,\r\n  repo,\r\n  config,\r\n  content,\r\n  message,\r\n  commitSource = true,\r\n  singleFile,\r\n  newRepo = true,\r\n  deps,\r\n}: {\r\n  user: User;\r\n  repo: string;\r\n  config: ContentConfig;\r\n  content: {\r\n    resultPage: string;\r\n    style: string;\r\n    script: string;\r\n  };\r\n  message: string;\r\n  commitSource: boolean;\r\n  singleFile: boolean;\r\n  newRepo: boolean;\r\n  deps: {\r\n    getLanguageExtension: typeof getLanguageExtensionFn;\r\n  };\r\n}): Promise<DeployResult | null> => {\r\n  if (newRepo) {\r\n    repo = safeName(repo, '-').toLowerCase();\r\n  }\r\n\r\n  const files = prepareFiles({ config, content, commitSource, singleFile, deps });\r\n  const branch = 'gh-pages';\r\n  const urlToSrc = commitSource\r\n    ? `https://github.com/${user.username}/${repo}/tree/gh-pages/src`\r\n    : undefined;\r\n  const description = config.title !== defaultConfig.title ? config.title : '';\r\n  const readmeContent = Object.values(getDescriptionFile(config, user, urlToSrc, false))[0].content;\r\n\r\n  const result = await commitFiles({\r\n    files,\r\n    user,\r\n    repo,\r\n    branch,\r\n    message,\r\n    newRepo,\r\n    privateRepo: false,\r\n    description,\r\n    readmeContent,\r\n    clearPrevious: true,\r\n  });\r\n  if (!result) return null;\r\n  return {\r\n    url: `https://${user.username}.github.io/${repo}/`,\r\n    username: user.username as string,\r\n    repo,\r\n    tree: result.tree,\r\n    commit: result.commit,\r\n  };\r\n};\r\n\r\nexport const deployFile = async ({\r\n  file,\r\n  user,\r\n  repo,\r\n  branch,\r\n  message,\r\n  description,\r\n  readmeContent,\r\n}: {\r\n  file: GitHubFile;\r\n  user: User;\r\n  repo: string;\r\n  branch: string;\r\n  message: string;\r\n  description?: string;\r\n  readmeContent?: string;\r\n}): Promise<DeployResult | null> => {\r\n  const githubFile: GitHubFile = {\r\n    path: `assets/${generateId()}/${file.path}`,\r\n    content: file.content,\r\n  };\r\n  const result = await commitFile({\r\n    file: githubFile,\r\n    user,\r\n    repo,\r\n    branch,\r\n    message,\r\n    privateRepo: false,\r\n    description,\r\n    readmeContent,\r\n  });\r\n  if (!result) return null;\r\n  return {\r\n    url: `https://${user.username}.github.io/${repo}/${githubFile.path}`,\r\n    username: user.username as string,\r\n    repo,\r\n    tree: result?.tree,\r\n    commit: result?.commit,\r\n  };\r\n};\r\n\r\nexport const deployedConfirmation = (deployResult: DeployResult, sourcePublished: boolean) => {\r\n  const { url, username, repo, commit } = deployResult;\r\n  const linkToSource = !sourcePublished\r\n    ? ''\r\n    : `\r\n    <div class=\"description\">\r\n      <p>\r\n        The source code is\r\n        <a\r\n          href=\"https://github.com/${username}/${repo}/tree/${commit}/src\"\r\n          target=\"_blank\"\r\n        >\r\n          publicly available\r\n        </a>\r\n      </p>\r\n      <p>\r\n        Permanent link:\r\n        <a\r\n          href=\"https://livecodes.io/?config=https://raw.githubusercontent.com/${username}/${repo}/${commit}/src/livecodes.json\"\r\n          target=\"_blank\"\r\n        >\r\n          Edit in LiveCodes\r\n        </a>\r\n      </p>\r\n    </div>\r\n`;\r\n  const msg = `\r\n    <div id=\"deploy-container\" class=\"modal-container\">\r\n      <div class=\"modal-title\">Deployed Successfully!</div>\r\n      <p>\r\n        Your project has been deployed successfully to GitHub Pages, and will shortly be available on: <br />\r\n        <a href=\"${url}\" target=\"_blank\">${url}</a>\r\n      </p>\r\n      ${linkToSource}\r\n    </div>\r\n  `;\r\n\r\n  const confirmationContianer = document.createElement('div');\r\n  confirmationContianer.innerHTML = msg;\r\n  return confirmationContianer;\r\n};\r\n", "export const getToolbarElement = () => document.querySelector('#toolbar') as HTMLElement;\r\nexport const getProjectTitleElement = () => document.querySelector('#project-title') as HTMLElement;\r\nexport const getEditorContainerElement = () =>\r\n  document.querySelector('#editor-container') as HTMLElement;\r\nexport const getEditorsElement = () => document.querySelector('#editors') as HTMLElement;\r\nexport const getMarkupElement = () => document.querySelector('#markup') as HTMLElement;\r\nexport const getStyleElement = () => document.querySelector('#style') as HTMLElement;\r\nexport const getScriptElement = () => document.querySelector('#script') as HTMLElement;\r\nexport const getOutputElement = () => document.querySelector('#output') as HTMLElement;\r\nexport const getResultElement = () => document.querySelector('#result') as HTMLElement;\r\nexport const getResultIFrameElement = () =>\r\n  document.querySelector('#result > iframe') as HTMLIFrameElement;\r\nexport const getGutterElement = () =>\r\n  document.querySelector('#editor-container .gutter') as HTMLElement;\r\nexport const getLogoLink = () => document.querySelector('#logo a') as HTMLAnchorElement;\r\nexport const getRunButton = () => document.querySelector('#run-button') as HTMLElement;\r\nexport const getCodeRunButton = () => document.querySelector('#code-run-button') as HTMLElement;\r\nexport const getEditorToolbar = () => document.querySelector('#editor-tools') as HTMLElement;\r\nexport const getCopyButton = () => document.querySelector('#editor-tools #copy-btn') as HTMLElement;\r\nexport const getUndoButton = () => document.querySelector('#editor-tools #undo-btn') as HTMLElement;\r\nexport const getRedoButton = () => document.querySelector('#editor-tools #redo-btn') as HTMLElement;\r\nexport const getFormatButton = () =>\r\n  document.querySelector('#editor-tools #format-btn') as HTMLElement;\r\nexport const getEditorModeNode = () => document.querySelector<HTMLElement>('#editor-mode');\r\nexport const getEditorStatus = () =>\r\n  document.querySelector('#editor-tools #editor-status') as HTMLElement;\r\nexport const getExternalResourcesBtn = () =>\r\n  document.querySelector('#editor-tools #external-resources-btn') as HTMLElement;\r\nexport const getExternalResourcesMark = () =>\r\n  document.querySelector('#editor-tools #external-resources-mark') as HTMLElement;\r\nexport const getResultButton = () => document.querySelector('#result-button') as HTMLElement;\r\nexport const getFullscreenButton = () =>\r\n  document.querySelector('#fullscreen-button') as HTMLElement;\r\nexport const getEditorTitles = () =>\r\n  document.querySelectorAll<HTMLElement>('.editor-title:not(.hidden)');\r\nexport const getEditorDivs = () => document.querySelectorAll<HTMLElement>('#editors > .editor');\r\nexport const getToolspaneElement = () =>\r\n  document.querySelector('#output #tools-pane') as HTMLElement;\r\nexport const getToolspaneBar = () =>\r\n  document.querySelector('#output #tools-pane-bar') as HTMLElement;\r\nexport const getToolspaneButtons = () =>\r\n  document.querySelector('#tools-pane-buttons') as HTMLElement;\r\nexport const getToolspaneTitles = () => document.querySelector<HTMLElement>('#tools-pane-titles');\r\nexport const getToolspaneLoader = () => document.querySelector<HTMLElement>('#tools-pane-loading');\r\nexport const getZoomButtonValue = () =>\r\n  document.querySelector<HTMLElement>('#zoom-button #zoom-value');\r\nexport const getModalSaveButton = () =>\r\n  document.querySelector('#modal #prompt-save-btn') as HTMLElement;\r\nexport const getModalDoNotSaveButton = () =>\r\n  document.querySelector('#modal #prompt-donot-save-btn') as HTMLElement;\r\nexport const getModalCancelButton = () =>\r\n  document.querySelector('#modal #prompt-cancel-btn') as HTMLElement;\r\n\r\nexport const getModalRecoverButton = () =>\r\n  document.querySelector('#modal #prompt-recover-btn') as HTMLElement;\r\nexport const getModalSavePreviousButton = () =>\r\n  document.querySelector('#modal #prompt-save-previous-btn') as HTMLElement;\r\nexport const getModalCancelRecoverButton = () =>\r\n  document.querySelector('#modal #prompt-cancel-recover-btn') as HTMLElement;\r\nexport const getModalUnsavedName = () =>\r\n  document.querySelector('#modal #unsaved-project-name') as HTMLElement;\r\nexport const getModalUnsavedLastModified = () =>\r\n  document.querySelector('#modal #unsaved-project-last-modified') as HTMLElement;\r\nexport const getModalDisableRecoverCheckbox = () =>\r\n  document.querySelector('#modal #disable-recover-checkbox') as HTMLInputElement;\r\n\r\nexport const getLanguageMenuLinks = () =>\r\n  document.querySelectorAll<HTMLElement>('#select-editor .language-item a');\r\n\r\nexport const getLanguageMenuButtons = () =>\r\n  document.querySelectorAll<HTMLElement>('#select-editor .language-menu-button');\r\n\r\nexport const getstyleMenu = () =>\r\n  document.querySelector<HTMLElement>('#style-selector .dropdown-menu');\r\n\r\nexport const getSettingToggles = () =>\r\n  document.querySelectorAll<HTMLInputElement>('#settings-menu input');\r\n\r\nexport const getCssPresetLinks = () =>\r\n  document.querySelectorAll<HTMLAnchorElement>('#css-preset-menu a');\r\n\r\nexport const getSettingsMenuScroller = () =>\r\n  document.querySelector<HTMLElement>('#settings-menu-container');\r\nexport const getSettingsButton = () => document.querySelector<HTMLElement>('#settings-button');\r\n\r\nexport const getExportJSONLink = () =>\r\n  document.querySelector<HTMLAnchorElement>('#export-menu #export-json');\r\n\r\nexport const getExportResultLink = () =>\r\n  document.querySelector<HTMLAnchorElement>('#export-menu #export-result');\r\n\r\nexport const getExportSourceLink = () =>\r\n  document.querySelector<HTMLAnchorElement>('#export-menu #export-src');\r\n\r\nexport const getExportGithubGistLink = () =>\r\n  document.querySelector<HTMLAnchorElement>('#export-menu #export-githubGist');\r\n\r\nexport const getExportCodepenLink = () =>\r\n  document.querySelector<HTMLAnchorElement>('#export-menu #export-codepen');\r\n\r\nexport const getExportJsfiddleLink = () =>\r\n  document.querySelector<HTMLAnchorElement>('#export-menu #export-jsfiddle');\r\n\r\nexport const getLoginLink = () => document.querySelector<HTMLAnchorElement>('#login-link');\r\n\r\nexport const getLogoutLink = () => document.querySelector<HTMLAnchorElement>('#logout-link');\r\n\r\nexport const getNewLink = () => document.querySelector<HTMLAnchorElement>('#new-link');\r\n\r\nexport const getOpenLink = () => document.querySelector<HTMLAnchorElement>('#open-link');\r\n\r\nexport const getSaveLink = () => document.querySelector<HTMLAnchorElement>('#save-link');\r\n\r\nexport const getForkLink = () => document.querySelector<HTMLAnchorElement>('#fork-link');\r\n\r\nexport const getSaveAsTemplateLink = () =>\r\n  document.querySelector<HTMLAnchorElement>('#template-link');\r\n\r\nexport const getExternalResourcesLink = () =>\r\n  document.querySelector<HTMLAnchorElement>('#external-resources-link');\r\n\r\nexport const getCustomSettingsLink = () =>\r\n  document.querySelector<HTMLAnchorElement>('#custom-settings-link');\r\n\r\nexport const getShareLink = () => document.querySelector<HTMLAnchorElement>('#share-link');\r\n\r\nexport const getEmbedLink = () => document.querySelector<HTMLAnchorElement>('#embed-link');\r\n\r\nexport const getEditorSettingsLink = () =>\r\n  document.querySelector<HTMLAnchorElement>('#editor-settings-link');\r\n\r\nexport const getDeployLink = () => document.querySelector<HTMLAnchorElement>('#deploy-link');\r\n\r\nexport const getSyncLink = () => document.querySelector<HTMLAnchorElement>('#sync-link');\r\n\r\nexport const getSyncIndicator = () => document.querySelector<HTMLAnchorElement>('#sync-indicator');\r\n\r\nexport const getImportLink = () => document.querySelector<HTMLAnchorElement>('#import-link');\r\n\r\nexport const getBackupLink = () => document.querySelector<HTMLAnchorElement>('#backup-link');\r\n\r\nexport const getBroadcastLink = () => document.querySelector<HTMLAnchorElement>('#broadcast-link');\r\n\r\nexport const getWelcomeLink = () => document.querySelector<HTMLAnchorElement>('#welcome-link');\r\n\r\nexport const getAboutLink = () => document.querySelector<HTMLAnchorElement>('#about-link');\r\n\r\nexport const getAutoupdateToggle = () =>\r\n  document.querySelector('#settings-menu input#autoupdate') as HTMLInputElement;\r\n\r\nexport const getDelayValue = () =>\r\n  document.querySelector('#settings-menu #delay-value') as HTMLElement;\r\n\r\nexport const getDelayRange = () =>\r\n  document.querySelector('#settings-menu input#delay-range') as HTMLInputElement;\r\n\r\nexport const getAutosaveToggle = () =>\r\n  document.querySelector('#settings-menu input#autosave') as HTMLInputElement;\r\n\r\nexport const getAutosyncToggle = () =>\r\n  document.querySelector('#settings-menu input#autosync') as HTMLInputElement;\r\n\r\nexport const getFormatOnsaveToggle = () =>\r\n  document.querySelector('#settings-menu input#formatOnsave') as HTMLInputElement;\r\n\r\nexport const getProcessorToggles = () =>\r\n  document.querySelectorAll<HTMLInputElement>('#style-selector input');\r\n\r\nexport const getEmmetToggle = () =>\r\n  document.querySelector('#settings-menu input#emmet') as HTMLInputElement;\r\n\r\nexport const getThemeToggle = () =>\r\n  document.querySelector('#settings-menu input#theme') as HTMLInputElement;\r\n\r\nexport const getShowWelcomeToggle = () =>\r\n  document.querySelector('#settings-menu input#welcome') as HTMLInputElement;\r\n\r\nexport const getRecoverToggle = () =>\r\n  document.querySelector('#settings-menu input#recover-unsaved') as HTMLInputElement;\r\n\r\nexport const getSpacingToggle = () =>\r\n  document.querySelector('#settings-menu input#show-spacing') as HTMLInputElement;\r\n\r\nexport const getCSSPresetLinks = () =>\r\n  document.querySelectorAll<HTMLAnchorElement>('#css-preset-menu a');\r\n\r\nexport const getProjectInfoLink = () =>\r\n  document.querySelector('#settings-menu #info-link') as HTMLInputElement;\r\n\r\nexport const getAssetsLink = () =>\r\n  document.querySelector('#settings-menu #assets-link') as HTMLInputElement;\r\n\r\nexport const getSnippetsLink = () =>\r\n  document.querySelector('#settings-menu #snippets-link') as HTMLInputElement;\r\n\r\nexport const getInfoTitleInput = () =>\r\n  document.querySelector('#info-container input#title-input') as HTMLInputElement;\r\n\r\nexport const getInfoDescription = () =>\r\n  document.querySelector('#info-container #description-textarea') as HTMLTextAreaElement;\r\n\r\nexport const getInfoTagsInput = () =>\r\n  document.querySelector('#info-container input#tags-input') as HTMLInputElement;\r\n\r\nexport const getSaveInfoButton = () =>\r\n  document.querySelector<HTMLElement>('#info-container #info-save-btn');\r\n\r\nexport const getExternalResourcesTextareas = () =>\r\n  document.querySelectorAll<HTMLTextAreaElement>('#resources-container textarea');\r\n\r\nexport const getExternalResourcesCssPresetInputs = () =>\r\n  document.querySelectorAll<HTMLInputElement>('#resources-container input[type=\"radio\"]');\r\n\r\nexport const getLoadResourcesButton = () =>\r\n  document.querySelector<HTMLElement>('#resources-container #resources-load-btn');\r\n\r\nexport const getCustomSettingsEditor = () =>\r\n  document.querySelector<HTMLElement>('#custom-settings-container #custom-settings-editor');\r\n\r\nexport const getLoadCustomSettingsButton = () =>\r\n  document.querySelector<HTMLElement>('#custom-settings-container #custom-settings-load-btn');\r\n\r\nexport const getTestEditor = () =>\r\n  document.querySelector<HTMLElement>('#test-editor-container #test-editor');\r\n\r\nexport const getLoadTestsButton = () =>\r\n  document.querySelector<HTMLElement>('#test-editor-container #test-load-btn');\r\n\r\nexport const getEditTestsButton = () =>\r\n  document.querySelector<HTMLElement>('#test-container #edit-tests-btn');\r\n\r\nexport const getRunTestsButton = () =>\r\n  document.querySelector<HTMLElement>('#test-container #run-tests-btn');\r\n\r\nexport const getWatchTestsButton = () =>\r\n  document.querySelector<HTMLElement>('#test-container #watch-tests-btn');\r\n\r\nexport const getUrlImportForm = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector<HTMLFormElement>('#url-import-form');\r\nexport const getUrlImportButton = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector('#url-import-btn') as HTMLButtonElement;\r\nexport const getUrlImportInput = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector('#code-url') as HTMLInputElement;\r\nexport const getCodeImportInput = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector('#local-code-input') as HTMLInputElement;\r\n\r\nexport const getImportJsonUrlForm = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector('#json-url-import-form') as HTMLInputElement;\r\nexport const getImportJsonUrlButton = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector('#json-url-import-btn') as HTMLInputElement;\r\nexport const getImportJsonUrlInput = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector('#json-url') as HTMLInputElement;\r\n\r\nexport const getBulkImportJsonUrlForm = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector('#bulk-json-url-import-form') as HTMLInputElement;\r\nexport const getBulkImportJsonUrlButton = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector('#bulk-json-url-import-btn') as HTMLInputElement;\r\nexport const getBulkImportJsonUrlInput = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector('#bulk-json-url') as HTMLInputElement;\r\nexport const getLinkToSavedProjects = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector('#link-to-saved-projects') as HTMLAnchorElement;\r\n\r\nexport const getImportFileInput = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector('#file-input') as HTMLInputElement;\r\n\r\nexport const getImportFileInputLabel = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector('.file-input-label') as HTMLInputElement;\r\n\r\nexport const getBulkImportFileInput = (importContainer: HTMLElement) =>\r\n  importContainer.querySelector('#bulk-file-input') as HTMLInputElement;\r\n\r\nexport const getNewRepoForm = (deployContainer: HTMLElement) =>\r\n  deployContainer.querySelector<HTMLFormElement>('#new-repo-form');\r\nexport const getNewRepoButton = (deployContainer: HTMLElement) =>\r\n  deployContainer.querySelector('#new-repo-btn') as HTMLButtonElement;\r\nexport const getNewRepoNameInput = (deployContainer: HTMLElement) =>\r\n  deployContainer.querySelector('#new-repo-name') as HTMLInputElement;\r\nexport const getNewRepoNameError = (deployContainer: HTMLElement) =>\r\n  deployContainer.querySelector('#new-repo-name-error') as HTMLElement;\r\nexport const getNewRepoMessageInput = (deployContainer: HTMLElement) =>\r\n  deployContainer.querySelector('#new-repo-message') as HTMLInputElement;\r\nexport const getNewRepoCommitSource = (deployContainer: HTMLElement) =>\r\n  deployContainer.querySelector('#new-repo-source') as HTMLInputElement;\r\nexport const getNewRepoAutoSync = (deployContainer: HTMLElement) =>\r\n  deployContainer.querySelector('#new-repo-autosync') as HTMLInputElement;\r\n\r\nexport const getExistingRepoForm = (deployContainer: HTMLElement) =>\r\n  deployContainer.querySelector<HTMLFormElement>('#existing-repo-form');\r\nexport const getExistingRepoButton = (deployContainer: HTMLElement) =>\r\n  deployContainer.querySelector('#existing-repo-btn') as HTMLButtonElement;\r\nexport const getExistingRepoNameInput = (deployContainer: HTMLElement) =>\r\n  deployContainer.querySelector('#existing-repo-name') as HTMLInputElement;\r\nexport const getExistingRepoMessageInput = (deployContainer: HTMLElement) =>\r\n  deployContainer.querySelector('#existing-repo-message') as HTMLInputElement;\r\nexport const getExistingRepoCommitSource = (deployContainer: HTMLElement) =>\r\n  deployContainer.querySelector('#existing-repo-source') as HTMLInputElement;\r\nexport const getExistingRepoAutoSync = (deployContainer: HTMLElement) =>\r\n  deployContainer.querySelector('#existing-repo-autosync') as HTMLInputElement;\r\n\r\nexport const getStarterTemplatesTab = (templatesContainer: HTMLElement) =>\r\n  templatesContainer.querySelector<HTMLElement>(\r\n    '#templates-tabs [data-target=\"templates-starter\"]',\r\n  );\r\nexport const getStarterTemplatesList = (templatesContainer: HTMLElement) =>\r\n  templatesContainer.querySelector<HTMLElement>('#starter-templates-list');\r\nexport const getUserTemplatesScreen = (templatesContainer: HTMLElement) =>\r\n  templatesContainer.querySelector('#templates-user .modal-screen') as HTMLElement;\r\n\r\nexport const getBulkImportButton = (listContainer: HTMLElement) =>\r\n  listContainer.querySelector('#bulk-import-button') as HTMLElement;\r\n\r\nexport const getExportAllButton = (listContainer: HTMLElement) =>\r\n  listContainer.querySelector('#export-all-button') as HTMLElement;\r\n\r\nexport const getDeleteAllButton = (listContainer: HTMLElement) =>\r\n  listContainer.querySelector('#delete-all-button') as HTMLElement;\r\n\r\nexport const getAddAssetButton = (listContainer: HTMLElement) =>\r\n  listContainer.querySelector('#assets-add-asset-button') as HTMLElement;\r\n\r\nexport const getAssetsDeleteAllButton = (listContainer: HTMLElement) =>\r\n  listContainer.querySelector('#assets-delete-all-button') as HTMLElement;\r\n\r\nexport const getAssetsButton = (listContainer: HTMLElement) =>\r\n  listContainer.querySelector('#assets-button') as HTMLElement;\r\n\r\nexport const getAssetDataUrlFileInput = (listContainer: HTMLElement) =>\r\n  listContainer.querySelector('#asset-data-url-file-input') as HTMLInputElement;\r\n\r\nexport const getAssetDataUrlOutput = (listContainer: HTMLElement) =>\r\n  listContainer.querySelector('#data-url-output') as HTMLElement;\r\n\r\nexport const getAssetGHPagesFileInput = (listContainer: HTMLElement) =>\r\n  listContainer.querySelector('#asset-gh-pages-file-input') as HTMLInputElement;\r\n\r\nexport const getAssetGHPagesFileInputLabel = (listContainer: HTMLElement) =>\r\n  listContainer.querySelector('#asset-gh-pages-file-input-label') as HTMLElement;\r\n\r\nexport const getAssetGHPagesFileInputButton = (listContainer: HTMLElement) =>\r\n  listContainer.querySelector('#asset-gh-pages-file-input-button') as HTMLElement;\r\n\r\nexport const getAssetGHPagesOutput = (listContainer: HTMLElement) =>\r\n  listContainer.querySelector('#gh-pages-output') as HTMLElement;\r\n\r\nexport const getSyncStatus = (syncContainer: HTMLElement | undefined) =>\r\n  (syncContainer || document).querySelector<HTMLElement>('#sync-status');\r\n\r\nexport const getStartSyncBtns = (syncContainer: HTMLElement | undefined) =>\r\n  (syncContainer || document).querySelectorAll<HTMLButtonElement>('.start-sync-btn');\r\n\r\nexport const getBackupForm = (backupContainer: HTMLElement) =>\r\n  backupContainer.querySelector('#backup-form') as HTMLFormElement;\r\n\r\nexport const getBackupBtn = (backupContainer: HTMLElement) =>\r\n  backupContainer.querySelector('#backup-btn') as HTMLButtonElement;\r\n\r\nexport const getBackupCheckedInputs = (backupContainer: HTMLElement) =>\r\n  backupContainer.querySelectorAll<HTMLInputElement>('#backup input[type=\"checkbox\"]:checked');\r\n\r\nexport const getAddSnippetButton = (snippetsContainer: HTMLElement) =>\r\n  snippetsContainer.querySelector('#snippets-add-snippet-button') as HTMLElement;\r\n\r\nexport const getSnippetsDeleteAllButton = (snippetsContainer: HTMLElement) =>\r\n  snippetsContainer.querySelector('#snippets-delete-all-button') as HTMLElement;\r\n\r\nexport const getSnippetLanguageSelect = (snippetsContainer: HTMLElement) =>\r\n  snippetsContainer.querySelector('#language-select') as HTMLSelectElement;\r\n\r\nexport const getAddSnippetEditor = (snippetsContainer: HTMLElement) =>\r\n  snippetsContainer.querySelector('#add-snippet-editor') as HTMLElement;\r\n\r\nexport const getSnippetTitleInput = (snippetsContainer: HTMLElement) =>\r\n  snippetsContainer.querySelector('#add-snippet-title-input') as HTMLInputElement;\r\n\r\nexport const getSnippetDescriptionArea = (snippetsContainer: HTMLElement) =>\r\n  snippetsContainer.querySelector('#add-snippet-description-textarea') as HTMLTextAreaElement;\r\n\r\nexport const getSaveSnippetBtn = (snippetsContainer: HTMLElement) =>\r\n  snippetsContainer.querySelector('#add-snippet-save-btn') as HTMLButtonElement;\r\n\r\nexport const getSnippetsBtn = (snippetsContainer: HTMLElement) =>\r\n  snippetsContainer.querySelector('#snippets-button') as HTMLButtonElement;\r\n\r\nexport const getBroadcastStatusLabel = (broadcastContainer: HTMLElement) =>\r\n  broadcastContainer.querySelector('#broadcast-status') as HTMLElement;\r\n\r\nexport const getBroadcastForm = (broadcastContainer: HTMLElement) =>\r\n  broadcastContainer.querySelector('#broadcast-form') as HTMLFormElement;\r\n\r\nexport const getBroadcastServerUrlInput = (broadcastContainer: HTMLElement) =>\r\n  broadcastContainer.querySelector('#broadcast-server-url') as HTMLInputElement;\r\n\r\nexport const getBroadcastSourceCheckbox = (broadcastContainer: HTMLElement) =>\r\n  broadcastContainer.querySelector('#broadcast-source') as HTMLInputElement;\r\n\r\nexport const getBroadcastBtn = (broadcastContainer: HTMLElement) =>\r\n  broadcastContainer.querySelector('#broadcast-btn') as HTMLButtonElement;\r\n\r\nexport const getBroadcastChannelUrlSection = (broadcastContainer: HTMLElement) =>\r\n  broadcastContainer.querySelector('#broadcast-channel-url-section') as HTMLElement;\r\n\r\nexport const getBroadcastChannelUrl = (broadcastContainer: HTMLElement) =>\r\n  broadcastContainer.querySelector('#broadcast-channel-url') as HTMLAnchorElement;\r\n\r\nexport const getBroadcastStatusBtn = () =>\r\n  document.querySelector('#broadcast-status-btn') as HTMLElement | null;\r\n\r\nexport const getQrCodeContainer = () => document.querySelector('#qrcode-container') as HTMLElement;\r\n\r\nexport const getEditorSettingsFormatLink = (editorSettingsContainer: HTMLElement) =>\r\n  editorSettingsContainer.querySelector('#editor-settings-format-link') as HTMLAnchorElement;\r\n\r\nexport const getWelcomeLinkNew = (welcomeContainer: HTMLElement) =>\r\n  welcomeContainer.querySelector('#welcome-link-new') as HTMLAnchorElement;\r\n\r\nexport const getWelcomeLinkOpen = (welcomeContainer: HTMLElement) =>\r\n  welcomeContainer.querySelector('#welcome-link-open') as HTMLAnchorElement;\r\n\r\nexport const getWelcomeLinkImport = (welcomeContainer: HTMLElement) =>\r\n  welcomeContainer.querySelector('#welcome-link-import') as HTMLAnchorElement;\r\n\r\nexport const getWelcomeLinkDefaultTemplateLi = (welcomeContainer: HTMLElement) =>\r\n  welcomeContainer.querySelector('.default-template-li') as HTMLAnchorElement;\r\n\r\nexport const getWelcomeLinkNoDefaultTemplate = (welcomeContainer: HTMLElement) =>\r\n  welcomeContainer.querySelector('#no-default-template') as HTMLAnchorElement;\r\n\r\nexport const getWelcomeLinkLoadDefault = (welcomeContainer: HTMLElement) =>\r\n  welcomeContainer.querySelector('#welcome-link-load-default') as HTMLAnchorElement;\r\n\r\nexport const getWelcomeLinkRecentOpen = (welcomeContainer: HTMLElement) =>\r\n  welcomeContainer.querySelector('#welcome-link-recent-open') as HTMLAnchorElement;\r\n\r\nexport const getWelcomeLinkTemplates = (welcomeContainer: HTMLElement) =>\r\n  welcomeContainer.querySelector('#welcome-link-templates') as HTMLAnchorElement;\r\n\r\nexport const getModalShowWelcomeCheckbox = (welcomeContainer: HTMLElement) =>\r\n  welcomeContainer.querySelector('#modal #show-welcome-checkbox') as HTMLInputElement;\r\n\r\nexport const getModalWelcomeRecover = (welcomeContainer = document) =>\r\n  welcomeContainer.querySelector('#modal #welcome-recover') as HTMLElement;\r\n\r\nexport const getModalWelcomeScreen = (welcomeContainer: HTMLElement) =>\r\n  welcomeContainer.querySelector('#welcome-screen-container .modal-screen') as HTMLElement;\r\n\r\nexport const getModalWelcomeRecent = (welcomeContainer: HTMLElement) =>\r\n  welcomeContainer.querySelector('#modal #welcome-recent') as HTMLElement;\r\n\r\nexport const getModalWelcomeRecentList = (welcomeContainer: HTMLElement) =>\r\n  welcomeContainer.querySelector('#modal #welcome-recent-list') as HTMLElement;\r\n\r\nexport const getModalWelcomeTemplateList = (welcomeContainer: HTMLElement) =>\r\n  welcomeContainer.querySelector('#modal #welcome-template-list') as HTMLElement;\r\n", "import type { createEventsManager } from '../events';\nimport type { createModal } from '../modal';\nimport type { createNotifications } from '../notifications';\nimport type { Config, ContentConfig, Cache, User } from '../models';\nimport type { getLanguageExtension as getLanguageExtensionFn } from '../languages';\nimport { deployScreen, resultTemplate } from '../html';\nimport { autoCompleteUrl } from '../vendors';\nimport { deploy, deployFile, deployedConfirmation } from '../deploy';\n// eslint-disable-next-line import/no-internal-modules\nimport { getUserRepos } from '../services/github';\nimport {\n  getExistingRepoButton,\n  getExistingRepoCommitSource,\n  getExistingRepoForm,\n  getExistingRepoMessageInput,\n  getExistingRepoNameInput,\n  getNewRepoButton,\n  getNewRepoCommitSource,\n  getNewRepoForm,\n  getNewRepoMessageInput,\n  getNewRepoNameError,\n  getNewRepoNameInput,\n} from './selectors';\n\nexport { deployFile };\n\nconst createDeployContainer = (\n  eventsManager: ReturnType<typeof createEventsManager>,\n  repo: string | undefined,\n) => {\n  const div = document.createElement('div');\n  div.innerHTML = deployScreen;\n  const deployContainer = div.firstChild as HTMLElement;\n\n  const tabs = deployContainer.querySelectorAll<HTMLElement>('#deploy-tabs li');\n  tabs.forEach((tab) => {\n    eventsManager.addEventListener(tab, 'click', () => {\n      tabs.forEach((t) => t.classList.remove('active'));\n      tab.classList.add('active');\n\n      document.querySelectorAll('#deploy-screens > div').forEach((screen) => {\n        screen.classList.remove('active');\n      });\n      const target = deployContainer.querySelector('#' + tab.dataset.target);\n      target?.classList.add('active');\n      target?.querySelector('input')?.focus();\n    });\n  });\n\n  if (repo) {\n    setTimeout(() => {\n      tabs[1].click();\n      const existingRepoNameInput = getExistingRepoNameInput(deployContainer);\n      const existingRepoMessageInput = getExistingRepoMessageInput(deployContainer);\n      existingRepoNameInput.value = repo;\n      existingRepoMessageInput.focus();\n    });\n  }\n\n  return deployContainer;\n};\n\nexport const createDeployUI = async ({\n  modal,\n  notifications,\n  eventsManager,\n  user,\n  deployRepo,\n  deps,\n}: {\n  modal: ReturnType<typeof createModal>;\n  notifications: ReturnType<typeof createNotifications>;\n  eventsManager: ReturnType<typeof createEventsManager>;\n  user: User;\n  deployRepo: string | undefined;\n  deps: {\n    getResultPage: (_: {\n      forExport: boolean;\n      template: string;\n      singleFile: boolean;\n    }) => Promise<string>;\n    getCache: () => Cache;\n    getConfig: () => Config;\n    getContentConfig: (config: Config | ContentConfig) => ContentConfig;\n    getLanguageExtension: typeof getLanguageExtensionFn;\n    setProjectDeployRepo: (repo: string) => Promise<void>;\n  };\n}) => {\n  const deployContainer = createDeployContainer(eventsManager, deployRepo);\n\n  const newRepoForm = getNewRepoForm(deployContainer);\n  const newRepoButton = getNewRepoButton(deployContainer);\n  const newRepoNameInput = getNewRepoNameInput(deployContainer);\n  const newRepoNameError = getNewRepoNameError(deployContainer);\n  const newRepoMessageInput = getNewRepoMessageInput(deployContainer);\n  const newRepoCommitSource = getNewRepoCommitSource(deployContainer);\n  const existingRepoForm = getExistingRepoForm(deployContainer);\n  const existingRepoButton = getExistingRepoButton(deployContainer);\n  const existingRepoNameInput = getExistingRepoNameInput(deployContainer);\n  const existingRepoMessageInput = getExistingRepoMessageInput(deployContainer);\n  const existingRepoCommitSource = getExistingRepoCommitSource(deployContainer);\n\n  const publish = async (\n    user: User,\n    repo: string,\n    message: string,\n    commitSource: boolean,\n    newRepo: boolean,\n  ) => {\n    const forExport = true;\n    const singleFile = false;\n    newRepoNameError.innerHTML = '';\n\n    const resultHtml = await deps.getResultPage({\n      forExport,\n      template: resultTemplate,\n      singleFile,\n    });\n    const cache = deps.getCache();\n    const deployResult = await deploy({\n      user,\n      repo,\n      config: deps.getContentConfig(deps.getConfig()),\n      content: {\n        resultPage: resultHtml,\n        style: cache.style.compiled || '',\n        script: cache.script.compiled || '',\n      },\n      message,\n      commitSource,\n      singleFile,\n      newRepo,\n      deps: { getLanguageExtension: deps.getLanguageExtension },\n    }).catch((error: any) => {\n      if (error.message === 'Repo name already exists') {\n        newRepoNameError.innerHTML = error.message;\n      }\n    });\n\n    if (newRepoNameError.innerHTML !== '') {\n      return false;\n    } else if (deployResult) {\n      await deps.setProjectDeployRepo(repo);\n      const confirmationContianer = deployedConfirmation(deployResult, commitSource);\n      modal.show(confirmationContianer, { size: 'small', closeButton: true });\n      return true;\n    } else {\n      modal.close();\n      notifications.error('Deployment failed!');\n      return true;\n    }\n  };\n\n  eventsManager.addEventListener(newRepoForm, 'submit', async (e) => {\n    e.preventDefault();\n    if (!user) return;\n\n    const name = newRepoNameInput.value.replace(/[^A-Za-z0-9_.-]/g, '-');\n    const message = newRepoMessageInput.value;\n    const commitSource = newRepoCommitSource.checked;\n    const newRepo = true;\n    if (!name) {\n      notifications.error('Repo name is required');\n      return;\n    }\n\n    newRepoButton.innerHTML = 'Deploying...';\n    newRepoButton.disabled = true;\n\n    const result = await publish(user, name, message, commitSource, newRepo);\n    if (!result) {\n      newRepoButton.innerHTML = 'Deploy';\n      newRepoButton.disabled = false;\n    }\n  });\n\n  eventsManager.addEventListener(existingRepoForm, 'submit', async (e) => {\n    e.preventDefault();\n    if (!user) return;\n\n    const name = existingRepoNameInput.value;\n    const message = existingRepoMessageInput.value;\n    const commitSource = existingRepoCommitSource.checked;\n    const newRepo = false;\n    if (!name) {\n      notifications.error('Repo name is required');\n      return;\n    }\n\n    existingRepoButton.innerHTML = 'Deploying...';\n    existingRepoButton.disabled = true;\n\n    await publish(user, name, message, commitSource, newRepo);\n  });\n\n  let autoComplete: any;\n  import(autoCompleteUrl).then(async () => {\n    autoComplete = (globalThis as any).autoComplete;\n\n    if (!user) return;\n    const publicRepos = await getUserRepos(user);\n\n    eventsManager.addEventListener(existingRepoNameInput, 'init', () => {\n      if (!deployRepo) {\n        existingRepoNameInput.focus();\n      }\n    });\n\n    const inputSelector = '#' + existingRepoNameInput.id;\n    if (!document.querySelector(inputSelector)) return;\n    const autoCompleteJS = new autoComplete({\n      selector: inputSelector,\n      placeHolder: 'Search your public repos...',\n      data: {\n        src: publicRepos,\n      },\n      resultItem: {\n        highlight: {\n          render: true,\n        },\n      },\n    });\n\n    eventsManager.addEventListener(autoCompleteJS.input, 'selection', function (event: any) {\n      const feedback = event.detail;\n      autoCompleteJS.input.blur();\n      const selection = feedback.selection.value;\n      autoCompleteJS.input.value = selection;\n    });\n  });\n\n  modal.show(deployContainer, { isAsync: true });\n  newRepoNameInput.focus();\n};\n"],
  "mappings": "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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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",
  "names": ["require_lz_string", "__commonJSMin", "exports", "module", "LZString", "f", "keyStrBase64", "keyStrUriSafe", "baseReverseDic", "getBaseValue", "alphabet", "character", "i", "input", "res", "a", "index", "compressed", "uncompressed", "buf", "TotalLen", "current_value", "result", "c", "bitsPerChar", "getCharFromInt", "value", "context_dictionary", "context_dictionaryToCreate", "context_c", "context_wc", "context_w", "context_enlargeIn", "context_dictSize", "context_numBits", "context_data", "context_data_val", "context_data_position", "ii", "length", "resetValue", "getNextValue", "dictionary", "next", "enlargeIn", "dictSize", "numBits", "entry", "w", "bits", "resb", "maxpower", "power", "data", "replaceValues", "str", "resultTemplate", "result_default", "appHTML", "app_default", "settingsMenuHTML", "settings_menu_default", "languageInfo", "language_info_default", "customSettingsScreen", "custom_settings_default", "testEditorScreen", "test_editor_default", "importScreen", "import_default", "deployScreen", "deploy_default", "syncScreen", "sync_default", "backupScreen", "backup_default", "broadcastScreen", "broadcast_default", "welcomeScreen", "welcome_default", "aboutScreen", "about_default", "infoScreen", "project_info_default", "resourcesScreen", "external_resources_default", "loginScreen", "login_default", "savePromptScreen", "save_prompt_default", "recoverPromptScreen", "recover_prompt_default", "templatesScreen", "templates_default", "openScreen", "open_default", "assetsScreen", "assets_default", "addAssetScreen", "add_asset_default", "snippetsScreen", "snippets_default", "addSnippetScreen", "add_snippet_default", "shareScreen", "share_default", "embedScreen", "embed_default", "editorSettingsScreen", "editor_settings_default", "resultPopupHTML", "result_popup_default", "moduleCDNs", "npmCDNs", "ghCDNs", "modulesService", "moduleName", "isModule", "defaultCDN", "moduleUrl", "getCdnUrl", "path", "cdn", "getAppCDN", "testModule", "preferredCDN", "cdns", "modName", "post", "i", "TEMPLATES", "pattern", "template", "getUrl", "getModuleUrl", "modulesService", "autoCompleteUrl", "getUrl", "malinaVersion", "malinaUrl", "getUrl", "allowedOrigin", "origin", "safeName", "name", "symbol", "generateId", "import_lz_string", "dpasteGetUrl", "dpastePostUrl", "apiUrl", "dpasteService", "id", "res", "config", "apiService", "allowedOrigin", "shareService", "getFilesFromConfig", "config", "getLanguageExtension", "filenames", "codeFiles", "files", "editorId", "filename", "language", "extension", "content", "externalStyles", "url", "externalScripts", "tests", "getDescriptionFile", "user", "gist", "githubUrl", "userInfo", "projectInfo", "safeName", "getGithubHeaders", "user", "mediaType", "repoExists", "repo", "createRepo", "privateRepo", "description", "res", "data", "createFile", "branch", "file", "message", "initialize", "encoded", "url", "path", "sha", "response", "f", "initializeRepo", "user", "repo", "branch", "readmeContent", "createFile", "getLastCommit", "res", "getGithubHeaders", "refs", "commit", "branchRef", "ref", "getTree", "tree", "createTree", "files", "baseTree", "file", "data", "createCommit", "message", "lastCommit", "createBranch", "updateBranch", "commitFiles", "newRepo", "privateRepo", "description", "clearPrevious", "succeeded", "safeName", "repoExists", "createRepo", "initialCommit", "commitFile", "result", "getUserRepos", "reposType", "page", "pageSize", "maxPages", "results", "response", "newResults", "defaultConfig", "prepareFiles", "config", "content", "commitSource", "singleFile", "deps", "files", "sourceFiles", "getFilesFromConfig", "filename", "deploy", "user", "repo", "message", "newRepo", "safeName", "branch", "urlToSrc", "description", "defaultConfig", "readmeContent", "getDescriptionFile", "result", "commitFiles", "deployFile", "file", "githubFile", "generateId", "commitFile", "deployedConfirmation", "deployResult", "sourcePublished", "url", "username", "commit", "linkToSource", "msg", "confirmationContianer", "getNewRepoForm", "deployContainer", "getNewRepoButton", "getNewRepoNameInput", "getNewRepoNameError", "getNewRepoMessageInput", "getNewRepoCommitSource", "getExistingRepoForm", "deployContainer", "getExistingRepoButton", "getExistingRepoNameInput", "getExistingRepoMessageInput", "getExistingRepoCommitSource", "createDeployContainer", "eventsManager", "repo", "div", "deployScreen", "deployContainer", "tabs", "tab", "t", "screen", "target", "existingRepoNameInput", "getExistingRepoNameInput", "existingRepoMessageInput", "getExistingRepoMessageInput", "createDeployUI", "modal", "notifications", "user", "deployRepo", "deps", "newRepoForm", "getNewRepoForm", "newRepoButton", "getNewRepoButton", "newRepoNameInput", "getNewRepoNameInput", "newRepoNameError", "getNewRepoNameError", "newRepoMessageInput", "getNewRepoMessageInput", "newRepoCommitSource", "getNewRepoCommitSource", "existingRepoForm", "getExistingRepoForm", "existingRepoButton", "getExistingRepoButton", "existingRepoCommitSource", "getExistingRepoCommitSource", "publish", "message", "commitSource", "newRepo", "resultHtml", "resultTemplate", "cache", "deployResult", "deploy", "error", "confirmationContianer", "deployedConfirmation", "e", "name", "autoComplete", "autoCompleteUrl", "publicRepos", "getUserRepos", "inputSelector", "autoCompleteJS", "event", "feedback", "selection"]
}
